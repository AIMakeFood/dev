"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9889],{6895:(e,t,n)=>{n.d(t,{FJ:()=>s,rz:()=>i,s_:()=>r});let a={professional_chef:{id:"professional_chef",name:"Chef Marco",description:"A seasoned professional chef with years of culinary experience",personality:"Precise, knowledgeable, encouraging but direct. Uses proper culinary terminology.",speaking_style:'Speaks clearly and confidently. Uses phrases like "excellent technique", "now we\'re cooking", "perfect timing".',example_phrases:["Beautiful knife work! Keep that claw grip nice and tight.","Perfect temperature - the oil is shimmering just right.","Time to flip - see how the edges are getting golden?","Excellent mise en place! Organization is key."],icon:"\uD83D\uDC68â€\uD83C\uDF73",is_system:!0},friendly_mom:{id:"friendly_mom",name:"Mom",description:"A warm, nurturing home cook who makes everything feel cozy",personality:"Warm, patient, reassuring. Focuses on making cooking feel comfortable and fun.",speaking_style:'Speaks gently and encouragingly. Uses phrases like "you\'re doing great, sweetie", "just like grandma used to", "that smells wonderful".',example_phrases:["Oh honey, that looks wonderful! Just a bit more stirring.","Don't worry about that - every chef makes mistakes!","Mmm, that's going to taste amazing!","Take your time, dear. Good food is worth the wait."],icon:"\uD83D\uDC69",is_system:!0},surfer_dude:{id:"surfer_dude",name:"Kai",description:"A laid-back California surfer who loves cooking healthy food",personality:"Relaxed, enthusiastic, uses surf lingo. Focuses on fresh ingredients and healthy eating.",speaking_style:'Speaks casually and uses slang. Phrases like "gnarly", "stoked", "totally tubular", "bro".',example_phrases:["Duuude, that's looking totally rad! Keep shredding those veggies!","Bro, watch the heat - we don't want burnt waves!","Stoked! That's gonna be fire, literally check the pan!","Gnarly knife skills, bro! You're shredding it!"],icon:"\uD83C\uDFC4",is_system:!0},skater:{id:"skater",name:"Tony",description:"An energetic skateboarder with a passion for quick, tasty meals",personality:"Energetic, youthful, uses skater slang. Keeps things fast and fun.",speaking_style:'Speaks quickly and enthusiastically. Uses phrases like "sick", "let\'s go", "nailed it", "shred it".',example_phrases:["Yo, sick knife skills! You're shredding those onions!","Let's gooo! Time to drop that pasta in!","Nailed it! That landing was perfect!","No bail on this one - looking clean!"],icon:"\uD83D\uDEF9",is_system:!0},gordon_style:{id:"gordon_style",name:"Chef Gordon",description:"An intense, no-nonsense chef who demands excellence",personality:"Intense, demanding, but ultimately supportive. High standards with colorful expressions.",speaking_style:"Speaks intensely and dramatically. Uses strong emphasis and occasional mild frustration.",example_phrases:["BEAUTIFUL! That's what I'm talking about!","Come on, let's go! The pan is ready!","Finally, someone who knows how to season properly!","Don't just stand there - taste it!"],icon:"\uD83D\uDD25",is_system:!0},gentle_grandma:{id:"gentle_grandma",name:"Nana Rose",description:"A sweet grandmother with decades of cooking wisdom",personality:"Gentle, wise, full of stories and traditional tips. Takes her time.",speaking_style:"Speaks slowly and thoughtfully. Shares memories and old-fashioned wisdom.",example_phrases:["Now dear, my mother always said the secret is patience...","That's it, nice and easy. No rush in the kitchen.","Oh, that reminds me of when I was young...","A pinch of love makes everything better, dear."],icon:"\uD83D\uDC75",is_system:!0},robot_chef:{id:"robot_chef",name:"COOK-3000",description:"A futuristic AI cooking assistant with precise calculations",personality:"Logical, precise, slightly humorous about being a robot. Very exact with measurements.",speaking_style:"Speaks in a slightly robotic but friendly manner. Uses precise measurements and timing.",example_phrases:["Optimal knife angle detected: 45 degrees. Efficiency rating: excellent.","Alert: Heat threshold approaching. Recommend reducing temperature by 15%.","Cooking subroutine complete. Deliciousness probability: 94.7%.","Initiating seasoning protocol. Salt levels calibrating..."],icon:"\uD83E\uDD16",is_system:!0}},o={professional_chef:{fire_hazard:{urgent:"Attention! Fire hazard detected. Move that item away from the heat immediately.",warning:"Careful, chef. That item is too close to the heat source.",info:"Just a reminder - keep flammable items away from the stove."},burn_prevention:{urgent:"Your food is burning! Remove it from heat now!",warning:"Watch the heat - your dish is starting to overcook.",info:"Keep an eye on the color - we want golden, not charred."},boiling_alert:{urgent:"The pot is boiling over! Reduce heat immediately!",warning:"Water is getting close to boiling over. Stay attentive.",info:"Watch that pot - rapid boiling can cause overflow."},child_safety:{urgent:"Child in the cooking area! Please ensure their safety immediately.",warning:"I see a little one nearby. Keep them at a safe distance.",info:"Remember to keep children away from hot surfaces."},pet_safety:{urgent:"Pet near the stove! Please move them to safety.",warning:"Your furry friend is getting close to the cooking area.",info:"Keep pets at a safe distance from hot surfaces."},hot_surface:{urgent:"Careful! That surface is extremely hot!",warning:"Watch your hands - that surface is hot.",info:"Remember, that pan handle may be hot."},knife_technique:{urgent:"Careful with that knife! Slow down and reposition.",warning:"Try using a claw grip for better control and safety.",info:"Nice work with the knife. Keep that blade angle consistent."},cross_contamination:{urgent:"Stop! Cross contamination risk. Wash your hands and change cutting boards.",warning:"Be careful not to mix raw and cooked ingredients.",info:"Good practice to keep raw proteins separate."},away_too_long:{urgent:"Chef! Your food needs attention immediately!",warning:"You've been away for a while. Time to check on your cooking.",info:"Just checking in - don't forget about what's on the stove."},attention_needed:{urgent:"Your dish needs immediate attention!",warning:"Time to check on your cooking.",info:"A quick stir or check might be good right about now."}},friendly_mom:{fire_hazard:{urgent:"Oh dear! That towel is too close to the flame, sweetie!",warning:"Honey, be careful with that near the stove.",info:"Just a gentle reminder to keep things away from the heat, okay?"},burn_prevention:{urgent:"Oh no, it's burning! Quick, take it off the heat!",warning:"Sweetie, I think that's getting a bit too brown.",info:"Looking good, dear! Just keep watching it for me."},boiling_alert:{urgent:"The pot, honey! It is boiling over!",warning:"That water is getting pretty lively, dear.",info:"Keep an eye on that pot for me, would you?"},child_safety:{urgent:"Oh! Let's get the little one away from the stove, okay?",warning:"Honey, make sure the kids stay back from the hot stuff.",info:"Kitchen safety first, especially with little ones around!"},pet_safety:{urgent:"Oh, shoo the kitty away from the stove, dear!",warning:"Your fur baby is getting a bit too curious over there.",info:"Let's keep our pets safe and away from the cooking."},hot_surface:{urgent:"Careful, honey! That's hot!",warning:"Watch your hands, sweetie, that pan is warm.",info:"Remember to use a mitt, dear."},knife_technique:{urgent:"Careful with that knife, sweetie! Let's slow down.",warning:"Try curling your fingers like a claw - it is safer that way.",info:"You're doing great! Nice and steady."},cross_contamination:{urgent:"Oh honey, we need to wash hands before touching that!",warning:"Let's keep the raw chicken away from the veggies, okay?",info:"You're being so careful - that's wonderful!"},away_too_long:{urgent:"Sweetie! Your food is waiting for you!",warning:"Don't forget about dinner, honey!",info:"Just checking if you need anything in here."},attention_needed:{urgent:"Your dish needs a little love right now, dear!",warning:"Time to give that a stir, honey.",info:"Everything okay in there?"}},surfer_dude:{fire_hazard:{urgent:"Whoa bro! Fire hazard! Move that thing, dude!",warning:"Yo, that towel is catching some gnarly heat vibes.",info:"Keep it chill and keep stuff away from the flames, bro."},burn_prevention:{urgent:"Dude! It is burning! Bail, bail, bail!",warning:"Bro, that's getting a little too toasty.",info:"Riding the perfect wave between raw and burnt, nice!"},boiling_alert:{urgent:"Tsunami alert! That pot is overflowing, dude!",warning:"Those waves are getting big, bro. Might want to dial it back.",info:"Keep your eyes on those rolling boils, my dude."},child_safety:{urgent:"Whoa! Little grom near the hot zone! Safety first, bro!",warning:"Hey, maybe keep the little dude away from the heat.",info:"Stoked to have helpers, but keep them at a safe distance!"},pet_safety:{urgent:"Yo! Your fur buddy is too close to the heat, dude!",warning:"Your pet's getting curious about the cooking zone.",info:"Keep the furry homies safe from the hot stuff."},hot_surface:{urgent:"Dude! Hot! Super hot! Watch those hands!",warning:"That's heated, bro. Be careful.",info:"Those handles can be sneaky hot, just saying."},knife_technique:{urgent:"Whoa, careful with that blade, bro! Slow your roll!",warning:"Try the claw grip, dude - way safer for shredding veggies.",info:"You're carving it up nice! Keep that flow going!"},cross_contamination:{urgent:"Dude, stop! Gotta keep raw and cooked separate, bro!",warning:"That's a gnarly mix there - let's keep it clean.",info:"Keeping it fresh and safe - that is the way, bro!"},away_too_long:{urgent:"Dude! Your food is calling! Paddle back!",warning:"Don't wipe out on dinner, bro!",info:"Just checking if you are still riding this cooking wave."},attention_needed:{urgent:"Bro! Your dish needs you right now!",warning:"Time to catch this wave and give it a stir, dude.",info:"Might be time to check on your culinary creation, bro."}},skater:{fire_hazard:{urgent:"Yo! Fire hazard! Move that, no cap!",warning:"That's getting sus near the flame, dude.",info:"Keep your stuff away from the heat, stay safe out there."},burn_prevention:{urgent:"It is burning! Bail out! Take it off the heat!",warning:"That is looking kinda crispy, might want to check it.",info:"Looking clean so far, keep that up!"},boiling_alert:{urgent:"Yo the pot is going crazy! Turn it down!",warning:"That boil is getting rowdy.",info:"Keep your eyes on that pot, do not let it get out of control."},child_safety:{urgent:"Little dude in the zone! Get them back!",warning:"Hey, maybe keep the young one away from the hot stuff.",info:"Cool to have crew around, just keep them safe!"},pet_safety:{urgent:"Your pet is too close! Safety first!",warning:"Your furry homie is getting curious about the heat.",info:"Keep the pets chilling away from the stove."},hot_surface:{urgent:"Hot! Do not touch that!",warning:"That surface is heated, watch yourself.",info:"Heads up, that might be warm."},knife_technique:{urgent:"Careful with that blade! Slow down!",warning:"Try the claw grip, way safer for shredding.",info:"Sick knife skills! Keep it going!"},cross_contamination:{urgent:"Stop! Gotta keep raw and cooked separate!",warning:"That is a sketchy combo, keep things clean.",info:"Clean runs only in this kitchen!"},away_too_long:{urgent:"Your food needs you! Get back in there!",warning:"Do not forget about dinner!",info:"Just checking in on the cooking sesh."},attention_needed:{urgent:"Your dish needs attention right now!",warning:"Time to give that a check.",info:"Might be time for a quick look."}},gordon_style:{fire_hazard:{urgent:"FIRE HAZARD! Move that NOW! Come on!",warning:"That should NOT be near the flame! Move it!",info:"Keep your station clean and safe. Basic stuff!"},burn_prevention:{urgent:"IT IS BURNING! Get it off the heat! NOW!",warning:"It is overcooking! Pay attention!",info:"Watch the color. We want perfection, not charcoal!"},boiling_alert:{urgent:"The POT! It is BOILING OVER! MOVE!",warning:"Control your heat! That is about to go everywhere!",info:"Keep an eye on it. Do not let it get away from you!"},child_safety:{urgent:"CHILD IN THE KITCHEN! Get them to safety!",warning:"Keep the little one AWAY from the stove!",info:"Safety first. Always. Especially with children around."},pet_safety:{urgent:"GET THAT PET AWAY FROM THE STOVE!",warning:"Your pet should NOT be near the cooking area!",info:"Keep animals out of the kitchen when cooking. Basic hygiene!"},hot_surface:{urgent:"THAT IS HOT! WATCH YOUR HANDS!",warning:"Hot surface! Be careful!",info:"Use a towel. Do not be an idiot."},knife_technique:{urgent:"STOP! You are going to hurt yourself! Grip it properly!",warning:"Your knife technique needs work. Claw grip! NOW!",info:"Better. Much better. Keep that consistency!"},cross_contamination:{urgent:"STOP! That is CROSS CONTAMINATION! Wash your hands!",warning:"RAW and COOKED do NOT mix! Come on!",info:"Good. Keep your proteins separate. That is how it is done."},away_too_long:{urgent:"WHERE ARE YOU?! Your food is DYING!",warning:"GET BACK TO YOUR STATION!",info:"Do not abandon your dish! Stay focused!"},attention_needed:{urgent:"YOUR DISH NEEDS YOU! MOVE IT!",warning:"Pay attention! Check your food!",info:"Give it a look. Stay on top of things!"}},gentle_grandma:{fire_hazard:{urgent:"Oh my! Please move that away from the flame, dear!",warning:"That might be a bit too close to the heat, sweetie.",info:"Remember what I always say - keep things tidy near the stove."},burn_prevention:{urgent:"Oh dear, it is burning! Take it off, quickly now!",warning:"I think it might be getting a bit too dark, dear.",info:"Slow and steady wins the race, just like my mother used to say."},boiling_alert:{urgent:"The pot, dear! It is bubbling over!",warning:"That water is getting quite excited.",info:"A watched pot never boils, but do keep an eye on it."},child_safety:{urgent:"Oh! Let us keep the little one safe, dear!",warning:"Make sure the children stay back from the hot things.",info:"I always kept my babies away from the stove."},pet_safety:{urgent:"Oh dear, the kitty is too close to the heat!",warning:"Our furry friend should not be near the stove.",info:"Even my cats knew to stay away from the cooking."},hot_surface:{urgent:"Careful, dear! That is hot!",warning:"Watch your hands, sweetie.",info:"Always use a nice thick potholder."},knife_technique:{urgent:"Oh, careful with that knife, dear!",warning:"Try curling your fingers in, like so. Much safer.",info:"Such nice, careful work. Your grandmother would be proud."},cross_contamination:{urgent:"Oh! We must wash hands before touching that, dear!",warning:"Let us keep the raw meat separate from the vegetables.",info:"Cleanliness is next to godliness in the kitchen."},away_too_long:{urgent:"Dear! Your food needs you!",warning:"Do not forget about dinner on the stove.",info:"Just checking in on you, sweetie."},attention_needed:{urgent:"Your dish needs a little attention, dear!",warning:"Time to give that a loving stir.",info:"Everything coming along nicely?"}},robot_chef:{fire_hazard:{urgent:"ALERT: Fire hazard detected. Immediate relocation required.",warning:"Warning: Object proximity to heat source exceeds safety parameters.",info:"Recommendation: Maintain 30cm clearance from active heat sources."},burn_prevention:{urgent:"CRITICAL: Combustion imminent. Remove from heat source immediately.",warning:"Caution: Food temperature approaching burn threshold.",info:"Status: Monitoring heat levels. Currently within acceptable range."},boiling_alert:{urgent:"OVERFLOW IMMINENT: Reduce thermal input immediately.",warning:"Advisory: Liquid approaching overflow threshold.",info:"Monitoring: Boiling activity within normal parameters."},child_safety:{urgent:"SAFETY PROTOCOL: Minor detected in hazard zone. Initiate safety measures.",warning:"Alert: Small human unit approaching restricted cooking area.",info:"Reminder: Maintain child-safe perimeter around active cooking stations."},pet_safety:{urgent:"ALERT: Domestic animal in hazard proximity. Relocate immediately.",warning:"Caution: Pet unit entering cooking zone perimeter.",info:"Note: Animal companions should maintain safe distance from heat sources."},hot_surface:{urgent:"WARNING: Surface temperature exceeds safe contact threshold!",warning:"Caution: Elevated surface temperature detected.",info:"Note: Surface may retain heat. Recommend protective equipment."},knife_technique:{urgent:"SAFETY ALERT: Knife handling trajectory suboptimal. Recalibrate grip.",warning:"Advisory: Implement claw grip protocol for enhanced safety.",info:"Analysis: Knife technique efficiency at acceptable levels."},cross_contamination:{urgent:"CONTAMINATION ALERT: Pathogen transfer risk detected. Cease operation.",warning:"Warning: Cross-contamination probability elevated.",info:"Protocol: Maintain separation between raw and prepared ingredients."},away_too_long:{urgent:"ALERT: Operator absence exceeds safe duration. Return to station.",warning:"Notice: Cooking process requires operator attention.",info:"Query: Operator presence confirmation requested."},attention_needed:{urgent:"PRIORITY: Immediate intervention required on active cooking process.",warning:"Advisory: Cooking status check recommended.",info:"Suggestion: Periodic monitoring enhances outcome quality."}}};function i(e){return a[e]}function r(e,t,n){let a=o[e]?.[t];return a?a[n]:o.professional_chef[t]?.[n]||"Please be careful."}function s(){return Object.values(a)}},31616:(e,t,n)=>{n.d(t,{cn:()=>i});var a=n(43696),o=n(33086);function i(...e){return(0,o.QP)((0,a.$)(e))}},33971:(e,t,n)=>{n.d(t,{$:()=>l,r:()=>s});var a=n(55155),o=n(3456),i=n(47426),r=n(31616);let s=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-bold transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:ring-2 focus-visible:ring-orange-500 focus-visible:ring-offset-2",{variants:{variant:{default:"bg-orange-500 text-white hover:bg-orange-600 shadow-md shadow-orange-200 dark:shadow-orange-900/20",destructive:"bg-red-500 text-white hover:bg-red-600 shadow-md shadow-red-200 dark:shadow-red-900/20",outline:"border-2 border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800 hover:border-slate-300 dark:hover:border-slate-600",secondary:"bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white hover:bg-slate-200 dark:hover:bg-slate-700",ghost:"hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-900 dark:text-white",link:"text-orange-500 dark:text-orange-400 underline-offset-4 hover:underline"},size:{default:"h-11 px-5 py-2",sm:"h-9 rounded-lg px-3 text-xs",lg:"h-14 rounded-2xl px-8 text-base",icon:"size-10"}},defaultVariants:{variant:"default",size:"default"}});function l({className:e,variant:t,size:n,asChild:i=!1,...l}){let u=i?o.DX:"button";return(0,a.jsx)(u,{"data-slot":"button",className:(0,r.cn)(s({variant:t,size:n,className:e})),...l})}},57809:(e,t,n)=>{n.d(t,{BT:()=>l,Wu:()=>u,ZB:()=>s,Zp:()=>i,aR:()=>r});var a=n(55155),o=n(31616);function i({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,o.cn)("bg-white dark:bg-slate-900 text-slate-900 dark:text-white flex flex-col gap-6 rounded-2xl border border-slate-200 dark:border-slate-800 py-6 shadow-sm",e),...t})}function r({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,o.cn)("flex flex-col gap-1.5 px-6",e),...t})}function s({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,o.cn)("leading-none font-bold tracking-tight text-xl",e),...t})}function l({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,o.cn)("text-slate-600 dark:text-slate-400 text-sm",e),...t})}function u({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,o.cn)("px-6",e),...t})}},94999:(e,t,n)=>{n.d(t,{U2:()=>d,ut:()=>m,Wh:()=>p,_t:()=>g,y4:()=>f,RV:()=>y});var a=n(55155),o=n(21555),i=n(15885);let r={enabled:!0,hazard_types:{fire_hazard:!0,burn_prevention:!0,boiling_alert:!0,child_safety:!0,pet_safety:!0,hot_surface:!0,knife_technique:!0,cross_contamination:!0,away_too_long:!0,attention_needed:!0},sensitivity:"medium",guidance_mode:"coaching",automation:{away_detection:{enabled:!0,timeout_seconds:120,alert_interval_seconds:30},pet_child_mode:{enabled:!1,detection_zone:"stove_area",alert_distance:"close"},burn_prevention:{alert_before_seconds:30,check_interval_seconds:5},attention_timer:{enabled:!0,remind_interval_minutes:5},auto_toggle:{pause_during_scan:!0,restore_after_scan:!0,auto_enable_cooking:!0,auto_enable_preparing:!1,auto_enable_on_heat:!0,has_children:!1,has_pets:!1,gas_stove:!1},false_positive_threshold:.7,scene_memory_enabled:!0}},s={master_volume:.7,use_voice_alerts:!0,voice_volume:.8,sounds:{safety:{enabled:!0,volume:1,frequency:880,cooldown:2e3},warning:{enabled:!0,volume:.8,frequency:660,cooldown:3e3},fire_hazard:{enabled:!0,volume:1,frequency:1e3,cooldown:1500},burn_prevention:{enabled:!0,volume:.9,frequency:950,cooldown:3e3},boiling_alert:{enabled:!0,volume:.9,frequency:784,cooldown:5e3},boiling:{enabled:!0,volume:.9,frequency:784,cooldown:5e3},child_safety:{enabled:!0,volume:1,frequency:1200,cooldown:2e3},child_alert:{enabled:!0,volume:1,frequency:1200,cooldown:2e3},pet_safety:{enabled:!0,volume:.9,frequency:1100,cooldown:2e3},technique_tip:{enabled:!0,volume:.5,frequency:440,cooldown:1e4},knife_technique:{enabled:!0,volume:.5,frequency:440,cooldown:1e4},burn_warning:{enabled:!0,volume:.9,frequency:950,cooldown:3e3},hot_surface:{enabled:!0,volume:.8,frequency:700,cooldown:4e3},cross_contamination:{enabled:!0,volume:.8,frequency:660,cooldown:3e3},away_alert:{enabled:!0,volume:.7,frequency:550,cooldown:5e3},attention_reminder:{enabled:!0,volume:.6,frequency:500,cooldown:5e3},timer:{enabled:!0,volume:.7,frequency:523,cooldown:0},step:{enabled:!0,volume:.5,frequency:587,cooldown:1e3},success:{enabled:!0,volume:.6,frequency:523,cooldown:0},tip:{enabled:!0,volume:.4,frequency:440,cooldown:5e3}}},l={enabled:!0,voice_enabled:!0,voice_volume:.8,voice_speed:1,persona:"professional_chef",persona_name:"Chef Marco",topics:{knife_skills:!0,cooking_techniques:!0,safety_tips:!0,ingredient_handling:!0,timing_guidance:!0,plating_tips:!0},verbosity:"normal",auto_speak:{hazards:!0,tips:!0,progress:!1,encouragement:!0}};var u=n(6895);let h="aimakefood_safety_enabled",c=(0,o.createContext)(null);function d({children:e}){let[t,n]=(0,o.useState)(()=>{let e=localStorage.getItem(h);return null!==e&&"true"===e}),[d,g]=(0,o.useState)(!1),[f,y]=(0,o.useState)(null),[m,p]=(0,o.useState)([]),[w,b]=(0,o.useState)(!0),[_,k]=(0,o.useState)(null),[v,T]=(0,o.useState)(!1),[x,C]=(0,o.useState)(!1),[S,O]=(0,o.useState)(null),[A,I]=(0,o.useState)(r),[q,Y]=(0,o.useState)(s),[N,R]=(0,o.useState)(l),[E,z]=(0,o.useState)((0,u.rz)("professional_chef")),[K,W]=(0,o.useState)(!0),[D,M]=(0,o.useState)(!1),P=(0,o.useCallback)(async()=>{W(!0);try{let e=await i.api.getProfile();if(e&&(e.safety_settings&&(I({...r,...e.safety_settings}),n(e.safety_settings.enabled??!0)),e.audio_settings&&Y({...s,...e.audio_settings}),e.guidance_settings)){R({...l,...e.guidance_settings});let t=(0,u.rz)(e.guidance_settings.persona||"professional_chef");z(t)}}catch(e){console.error("Failed to load safety settings:",e)}finally{W(!1)}},[]);(0,o.useEffect)(()=>{P()},[P]),(0,o.useEffect)(()=>{localStorage.setItem(h,String(t))},[t]);let L=(0,o.useCallback)(()=>{n(e=>!e)},[]),H=(0,o.useCallback)(()=>{n(!0)},[]),F=(0,o.useCallback)(()=>{n(!1),g(!1),p([])},[]),G=(0,o.useCallback)(e=>{g(e)},[]),B=(0,o.useCallback)(e=>{y(e),b(e.user_present),e.user_present&&k(new Date),p(e.hazards)},[]),j=(0,o.useCallback)(e=>{p(t=>[...t.filter(t=>t.type!==e.type),e])},[]),U=(0,o.useCallback)(e=>{p(t=>t.filter(t=>t.type!==e))},[]),J=(0,o.useCallback)(e=>{U(e)},[U]),V=(0,o.useCallback)(e=>{b(e),e&&k(new Date)},[]),Q=(0,o.useCallback)(e=>{T(e)},[]),Z=(0,o.useCallback)(()=>{A.automation.auto_toggle.pause_during_scan&&(O(t),n(!1),g(!1),C(!0))},[t,A.automation.auto_toggle.pause_during_scan]),$=(0,o.useCallback)(()=>{x&&(C(!1),A.automation.auto_toggle.restore_after_scan&&null!==S&&n(S),O(null))},[x,S,A.automation.auto_toggle.restore_after_scan]),X=(0,o.useCallback)(async e=>{M(!0);try{let t={...A,...e};I(t),n(t.enabled),await i.api.updatePreferences({safety_settings:t})}catch(e){throw console.error("Failed to update safety settings:",e),e}finally{M(!1)}},[A]),ee=(0,o.useCallback)(async e=>{M(!0);try{let t={...q,...e};Y(t),await i.api.updatePreferences({audio_settings:t})}catch(e){throw console.error("Failed to update audio settings:",e),e}finally{M(!1)}},[q]),et=(0,o.useCallback)(async e=>{M(!0);try{let t={...N,...e};if(R(t),e.persona){let t=(0,u.rz)(e.persona);z(t)}await i.api.updatePreferences({guidance_settings:t})}catch(e){throw console.error("Failed to update guidance settings:",e),e}finally{M(!1)}},[N]),en=(0,o.useCallback)(e=>{let t=(0,u.rz)(e);z(t),R(n=>({...n,persona:e,persona_name:t.name}))},[]);return(0,a.jsx)(c.Provider,{value:{scannerEnabled:t,isScanning:d,lastAnalysis:f,activeHazards:m,userPresent:w,lastUserSeen:_,cookingActive:v,isPausedForScan:x,safetySettings:A,audioSettings:q,guidanceSettings:N,currentPersona:E,settingsLoading:K,settingsSaving:D,toggleScanner:L,enableScanner:H,disableScanner:F,setScanning:G,updateAnalysis:B,addHazard:j,clearHazard:U,acknowledgeHazard:J,setUserPresent:V,setCookingActive:Q,pauseForScan:Z,resumeAfterScan:$,updateSafetySettings:X,updateAudioSettings:ee,updateGuidanceSettings:et,setPersona:en,loadSettings:P},children:e})}function g(){let e=(0,o.useContext)(c);if(!e)throw Error("useSafety must be used within a SafetyProvider");return e}function f(){let{scannerEnabled:e,isScanning:t,lastAnalysis:n,activeHazards:a,isPausedForScan:o,toggleScanner:i,enableScanner:r,disableScanner:s,pauseForScan:l,resumeAfterScan:u}=g();return{scannerEnabled:e,isScanning:t,lastAnalysis:n,activeHazards:a,isPausedForScan:o,toggleScanner:i,enableScanner:r,disableScanner:s,pauseForScan:l,resumeAfterScan:u}}function y(){let{safetySettings:e,updateSafetySettings:t,settingsSaving:n}=g();return{safetySettings:e,updateSafetySettings:t,settingsSaving:n}}function m(){let{audioSettings:e,updateAudioSettings:t,settingsSaving:n}=g();return{audioSettings:e,updateAudioSettings:t,settingsSaving:n}}function p(){let{guidanceSettings:e,updateGuidanceSettings:t,currentPersona:n,setPersona:a,settingsSaving:o}=g();return{guidanceSettings:e,updateGuidanceSettings:t,currentPersona:n,setPersona:a,settingsSaving:o}}}}]);