(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5071],{2295:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(18889).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},13977:(e,r,t)=>{Promise.resolve().then(t.bind(t,34690))},18889:(e,r,t)=>{"use strict";t.d(r,{A:()=>d});var a=t(21555);let s=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)},i=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:l="",children:d,iconNode:c,...o},m)=>(0,a.createElement)("svg",{ref:m,...n,width:r,height:r,stroke:e,strokeWidth:s?24*Number(t)/Number(r):t,className:i("lucide",l),...!d&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0})(o)&&{"aria-hidden":"true"},...o},[...c.map(([e,r])=>(0,a.createElement)(e,r)),...Array.isArray(d)?d:[d]])),d=(e,r)=>{let t=(0,a.forwardRef)(({className:t,...n},d)=>(0,a.createElement)(l,{ref:d,iconNode:r,className:i(`lucide-${s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,t),...n}));return t.displayName=s(e),t}},34690:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x});var a=t(55155),s=t(50536),i=t(39156),n=t(2295),l=t(45681),d=t(3948),c=t.n(d),o=t(50497),m=t(21555),u=t(15885);function h(){let e=(0,o.useRouter)(),r=(0,o.useSearchParams)().get("pending"),[t,d]=(0,m.useState)("loading"),[h,x]=(0,m.useState)(""),[g,f]=(0,m.useState)(""),[b,p]=(0,m.useState)(!1),[y,j]=(0,m.useState)(!1);(0,m.useEffect)(()=>{"true"===r?d("pending"):(async()=>{let r=window.location.hash;if(r){let t=new URLSearchParams(r.substring(1)),a=t.get("access_token"),s=t.get("type"),i=t.get("error"),n=t.get("error_description");if(i){d("error"),x(n||"Verification failed");return}if(a&&"signup"===s)try{let{data:r}=await u.api.getSession();r?.session?(d("success"),setTimeout(()=>{e.push("/scan")},3e3)):(d("error"),x("Could not establish session"))}catch{d("error"),x("Verification error")}else{let{data:r}=await u.api.getSession();r?.session?(d("success"),setTimeout(()=>e.push("/scan"),3e3)):d("pending")}}else{let{data:r}=await u.api.getSession();r?.session?(d("success"),setTimeout(()=>e.push("/scan"),3e3)):d("pending")}})()},[r,e]);let w=async e=>{if(e.preventDefault(),!g)return;p(!0);let{error:r}=await u.api.resendVerification(g);r?x(r.message):j(!0),p(!1)};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-brand-dark px-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full",children:[(0,a.jsxs)(c(),{href:"/",className:"flex items-center justify-center gap-2 mb-8",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-brand-orange to-brand-teal flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-3xl",children:"\uD83C\uDF73"})}),(0,a.jsxs)("span",{className:"font-bold text-2xl",children:[(0,a.jsx)("span",{className:"text-brand-orange",children:"AI"}),(0,a.jsx)("span",{className:"dark:text-white text-gray-900",children:" Make "}),(0,a.jsx)("span",{className:"text-brand-teal",children:"Food"})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl shadow-xl border border-gray-200 dark:border-white/10 p-8",children:["loading"===t&&(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(s.A,{className:"w-16 h-16 text-brand-orange mx-auto mb-4 animate-spin"}),(0,a.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Verifying Email"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Please wait while we verify your email address..."})]}),"success"===t&&(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(i.A,{className:"w-12 h-12 text-green-500"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Email Verified!"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Your email has been successfully verified. Redirecting to your dashboard..."}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-brand-orange",children:[(0,a.jsx)(s.A,{className:"w-4 h-4 animate-spin"}),(0,a.jsx)("span",{children:"Redirecting..."})]})]}),"error"===t&&(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-red-100 dark:bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(n.A,{className:"w-12 h-12 text-red-500"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Verification Failed"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:h||"The verification link may have expired or is invalid."}),(0,a.jsx)(c(),{href:"/login",className:"inline-block px-6 py-3 bg-gradient-to-r from-brand-orange to-brand-teal text-white rounded-full font-medium hover:shadow-lg transition-all",children:"Back to Login"})]}),"pending"===t&&(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-brand-orange/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(l.A,{className:"w-12 h-12 text-brand-orange"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Check Your Email"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"We've sent a verification link to your email address. Click the link to verify your account."}),(0,a.jsxs)("div",{className:"border-t border-gray-200 dark:border-white/10 pt-6 mt-6",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Didn't receive the email?"}),y?(0,a.jsx)("p",{className:"text-green-600 dark:text-green-400 font-medium",children:"Verification email sent!"}):(0,a.jsxs)("form",{onSubmit:w,className:"space-y-3",children:[(0,a.jsx)("input",{type:"email",value:g,onChange:e=>f(e.target.value),placeholder:"Enter your email",className:"w-full px-4 py-2 border border-gray-200 dark:border-white/10 rounded-lg bg-white dark:bg-white/5 focus:ring-2 focus:ring-brand-orange/50 focus:outline-none",required:!0}),(0,a.jsx)("button",{type:"submit",disabled:b,className:"w-full px-4 py-2 bg-gray-100 dark:bg-white/10 text-gray-900 dark:text-white rounded-lg font-medium hover:bg-gray-200 dark:hover:bg-white/20 transition-colors disabled:opacity-50",children:b?"Sending...":"Resend Verification Email"})]})]}),(0,a.jsx)(c(),{href:"/login",className:"inline-block mt-6 text-brand-orange hover:underline",children:"Back to Login"})]})]})]})})}function x(){return(0,a.jsx)(m.Suspense,{fallback:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-brand-dark",children:(0,a.jsx)(s.A,{className:"w-8 h-8 animate-spin text-brand-orange"})}),children:(0,a.jsx)(h,{})})}},39156:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(18889).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},45681:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(18889).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},50497:(e,r,t)=>{"use strict";var a=t(60685);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},50536:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(18889).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},e=>{e.O(0,[9731,9631,3948,5885,6939,1170,7358],()=>e(e.s=13977)),_N_E=e.O()}]);