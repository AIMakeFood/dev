(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3180],{2295:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(18889).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},7796:(e,r,s)=>{Promise.resolve().then(s.bind(s,28593))},13851:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(18889).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},18889:(e,r,s)=>{"use strict";s.d(r,{A:()=>i});var t=s(21555);let a=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)},l=(...e)=>e.filter((e,r,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===r).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:d="",children:i,iconNode:o,...c},h)=>(0,t.createElement)("svg",{ref:h,...n,width:r,height:r,stroke:e,strokeWidth:a?24*Number(s)/Number(r):s,className:l("lucide",d),...!i&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0})(c)&&{"aria-hidden":"true"},...c},[...o.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(i)?i:[i]])),i=(e,r)=>{let s=(0,t.forwardRef)(({className:s,...n},i)=>(0,t.createElement)(d,{ref:i,iconNode:r,className:l(`lucide-${a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...n}));return s.displayName=a(e),s}},25699:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(18889).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},28593:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>b});var t=s(55155),a=s(50536),l=s(39156),n=s(2295),d=s(83425),i=s(25699),o=s(13851),c=s(3948),h=s.n(c),m=s(50497),u=s(21555),x=s(15885);function b(){let e=(0,m.useRouter)(),[r,s]=(0,u.useState)(""),[c,b]=(0,u.useState)(""),[g,f]=(0,u.useState)(!1),[p,w]=(0,u.useState)(!1),[y,j]=(0,u.useState)("checking"),[k,N]=(0,u.useState)("");(0,u.useEffect)(()=>{let e=window.location.hash;if(e){let r=new URLSearchParams(e.substring(1)),s=r.get("access_token"),t=r.get("type"),a=r.get("error"),l=r.get("error_description");if(a){j("error"),N(l||"Invalid or expired reset link");return}s&&"recovery"===t?j("form"):(j("error"),N("Invalid reset link. Please request a new one."))}else x.api.getSession().then(({data:e})=>{e?.session?j("form"):(j("error"),N("No active password reset session. Please request a new reset link."))})},[]);let v=(e=>{if(!e)return{score:0,label:"",color:""};let r=0;return(e.length>=8&&r++,e.length>=12&&r++,/[A-Z]/.test(e)&&r++,/[0-9]/.test(e)&&r++,/[^A-Za-z0-9]/.test(e)&&r++,r<=1)?{score:r,label:"Weak",color:"bg-red-500"}:r<=2?{score:r,label:"Fair",color:"bg-yellow-500"}:r<=3?{score:r,label:"Good",color:"bg-blue-500"}:{score:r,label:"Strong",color:"bg-green-500"}})(r),A=async s=>{if(s.preventDefault(),N(""),r!==c)return void N("Passwords do not match");if(r.length<8)return void N("Password must be at least 8 characters");w(!0);let{error:t}=await x.api.updatePassword(r);t?(N(t.message),w(!1)):(j("success"),await x.api.signOut(),setTimeout(()=>e.push("/login"),3e3))};return"checking"===y?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-brand-dark",children:(0,t.jsx)(a.A,{className:"w-8 h-8 animate-spin text-brand-orange"})}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-brand-dark px-4",children:(0,t.jsxs)("div",{className:"max-w-md w-full",children:[(0,t.jsxs)(h(),{href:"/",className:"flex items-center justify-center gap-2 mb-8",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-brand-orange to-brand-teal flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-3xl",children:"\uD83C\uDF73"})}),(0,t.jsxs)("span",{className:"font-bold text-2xl",children:[(0,t.jsx)("span",{className:"text-brand-orange",children:"AI"}),(0,t.jsx)("span",{className:"dark:text-white text-gray-900",children:" Make "}),(0,t.jsx)("span",{className:"text-brand-teal",children:"Food"})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-white/5 rounded-2xl shadow-xl border border-gray-200 dark:border-white/10 p-8",children:["success"===y&&(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(l.A,{className:"w-12 h-12 text-green-500"})}),(0,t.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Password Updated!"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Your password has been successfully reset. Redirecting to login..."}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 text-brand-orange",children:[(0,t.jsx)(a.A,{className:"w-4 h-4 animate-spin"}),(0,t.jsx)("span",{children:"Redirecting..."})]})]}),"error"===y&&(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-red-100 dark:bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(n.A,{className:"w-12 h-12 text-red-500"})}),(0,t.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Reset Failed"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:k}),(0,t.jsx)(h(),{href:"/forgot-password",className:"inline-block px-6 py-3 bg-gradient-to-r from-brand-orange to-brand-teal text-white rounded-full font-medium hover:shadow-lg transition-all",children:"Request New Reset Link"})]}),"form"===y&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-brand-orange/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(d.A,{className:"w-8 h-8 text-brand-orange"})}),(0,t.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Reset Password"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Enter your new password below."})]}),k&&(0,t.jsx)("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/20 rounded-lg text-red-600 dark:text-red-400 text-sm",children:k}),(0,t.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium mb-2",children:"New Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:g?"text":"password",id:"password",value:r,onChange:e=>s(e.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-white/10 rounded-xl bg-white dark:bg-white/5 focus:ring-2 focus:ring-brand-orange/50 focus:outline-none transition-all pr-12",placeholder:"Min 8 characters",minLength:8,required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>f(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g?(0,t.jsx)(i.A,{className:"w-5 h-5"}):(0,t.jsx)(o.A,{className:"w-5 h-5"})})]}),r&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("div",{className:"flex gap-1 mb-1",children:[1,2,3,4,5].map(e=>(0,t.jsx)("div",{className:`h-1 flex-1 rounded ${e<=v.score?v.color:"bg-gray-200 dark:bg-white/10"}`},e))}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:v.label})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium mb-2",children:"Confirm Password"}),(0,t.jsx)("input",{type:g?"text":"password",id:"confirmPassword",value:c,onChange:e=>b(e.target.value),className:`w-full px-4 py-3 border rounded-xl bg-white dark:bg-white/5 focus:ring-2 focus:ring-brand-orange/50 focus:outline-none transition-all ${c&&r!==c?"border-red-500":"border-gray-200 dark:border-white/10"}`,placeholder:"Confirm your password",required:!0}),c&&r!==c&&(0,t.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"Passwords do not match"})]}),(0,t.jsx)("button",{type:"submit",disabled:p||r!==c,className:"w-full py-3 bg-gradient-to-r from-brand-orange to-brand-teal text-white rounded-xl font-semibold hover:shadow-lg hover:shadow-brand-orange/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.A,{className:"w-5 h-5 animate-spin"}),"Updating..."]}):"Reset Password"})]})]})]})]})})}},39156:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(18889).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},50497:(e,r,s)=>{"use strict";var t=s(60685);s.o(t,"usePathname")&&s.d(r,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(r,{useSearchParams:function(){return t.useSearchParams}})},50536:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(18889).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},83425:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(18889).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{e.O(0,[9731,9631,3948,5885,6939,1170,7358],()=>e(e.s=7796)),_N_E=e.O()}]);