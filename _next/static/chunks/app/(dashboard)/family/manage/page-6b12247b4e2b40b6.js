(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7975],{19678:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>N});var t=a(55155),r=a(21555),l=a(50497),n=a(44643),i=a(9667),c=a(20109),d=a(45723),m=a(3948),x=a.n(m),o=a(57809),u=a(33971),h=a(23381),p=a(10003),j=a(87097),v=a(11428);function N(){let e=(0,l.useRouter)(),{group:s,isOwner:a,loading:m,actionLoading:N,updateGroup:f,deleteGroup:y}=(0,v.H)(),[b,g]=(0,r.useState)(!1),[k,w]=(0,r.useState)(""),[C,A]=(0,r.useState)(!1),[S,G]=(0,r.useState)(!1),[M,P]=(0,r.useState)(null);if(!m&&(!s||!a))return(0,t.jsx)("div",{className:"container max-w-4xl mx-auto py-6 px-4",children:(0,t.jsx)(o.Zp,{children:(0,t.jsxs)(o.Wu,{className:"py-12 text-center",children:[(0,t.jsx)("p",{className:"text-slate-500",children:s?"Only group owners can access this page.":"You don't have a family group yet."}),(0,t.jsx)(u.$,{asChild:!0,className:"mt-4",children:(0,t.jsx)(x(),{href:"/app/family",children:"Go to Family Dashboard"})})]})})});if(m)return(0,t.jsx)("div",{className:"container max-w-4xl mx-auto py-6 px-4",children:(0,t.jsx)(o.Zp,{children:(0,t.jsx)(o.Wu,{className:"py-12",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})})})})});let _=async()=>{if(!k.trim())return void P("Please enter a group name");P(null);let e=await f({name:k.trim()});e.success?(g(!1),w("")):P(e.error||"Failed to update group name")},Z=async()=>{(await y()).success&&(A(!1),e.push("/app/family"))};return(0,t.jsxs)("div",{className:"container max-w-4xl mx-auto py-6 px-4",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)(x(),{href:"/app/family",className:"inline-flex items-center text-sm text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 mb-4",children:[(0,t.jsx)(n.A,{className:"h-4 w-4 mr-1"}),"Back to Family"]}),(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,t.jsx)(i.A,{className:"h-6 w-6"}),"Group Management"]}),(0,t.jsx)("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage your family group settings, members, and permissions."})]})})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Group Settings"}),(0,t.jsx)(o.BT,{children:"Update your family group name and settings."})]}),(0,t.jsxs)(o.Wu,{className:"space-y-4",children:[b?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.J,{htmlFor:"group-name",children:"Group Name"}),(0,t.jsx)(h.p,{id:"group-name",value:k,onChange:e=>w(e.target.value),placeholder:s?.name})]}),M&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:M}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(u.$,{variant:"outline",onClick:()=>{g(!1),w(""),P(null)},children:"Cancel"}),(0,t.jsx)(u.$,{onClick:_,disabled:N,children:N?"Saving...":"Save"})]})]}):(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Group Name"}),(0,t.jsx)("p",{className:"text-lg font-medium",children:s?.name})]}),(0,t.jsxs)(u.$,{variant:"outline",size:"sm",onClick:()=>{w(s?.name||""),g(!0)},children:[(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Edit"]})]}),(0,t.jsx)("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-800",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Invite Code"}),(0,t.jsx)("p",{className:"font-mono text-lg",children:s?.inviteCode})]}),(0,t.jsx)(u.$,{variant:"outline",size:"sm",onClick:()=>G(!0),children:"Create Invite Link"})]})}),(0,t.jsx)("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-800",children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Group Status"}),(0,t.jsx)("p",{className:`font-medium capitalize ${s?.status==="active"?"text-green-600":s?.status==="grace_period"?"text-amber-600":"text-red-600"}`,children:s?.status?.replace("_"," ")})]})})})]})]}),(0,t.jsx)(j.BO,{}),(0,t.jsx)(j.tf,{}),(0,t.jsxs)(o.Zp,{className:"border-red-200 dark:border-red-900",children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{className:"text-red-600 dark:text-red-400",children:"Danger Zone"}),(0,t.jsx)(o.BT,{children:"Irreversible and destructive actions."})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Delete Family Group"}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Permanently delete this group and remove all members."})]}),(0,t.jsxs)(u.$,{variant:"destructive",onClick:()=>A(!0),children:[(0,t.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Delete Group"]})]})})]})]}),(0,t.jsx)(j.U8,{open:S,onOpenChange:G}),(0,t.jsx)(j.TM,{open:C,onOpenChange:A,title:"Delete Family Group",description:"Are you sure you want to delete this family group? This action cannot be undone. All members will lose access to shared content.",confirmLabel:"Delete Group",destructive:!0,loading:N,onConfirm:Z})]})}},20109:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(18889).A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},26555:(e,s,a)=>{Promise.resolve().then(a.bind(a,19678))},44643:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(18889).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},45723:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(18889).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},50497:(e,s,a)=>{"use strict";var t=a(60685);a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})}},e=>{e.O(0,[9731,9631,7139,3948,8980,5885,7097,6939,1170,7358],()=>e(e.s=26555)),_N_E=e.O()}]);