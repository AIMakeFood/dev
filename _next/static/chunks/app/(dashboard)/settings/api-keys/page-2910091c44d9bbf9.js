(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9320],{7769:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(18889).A)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]])},10074:(e,t,a)=>{Promise.resolve().then(a.bind(a,62329))},13851:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(18889).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},18889:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(21555);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:d="",children:n,iconNode:o,...c},u)=>(0,r.createElement)("svg",{ref:u,...i,width:t,height:t,stroke:e,strokeWidth:s?24*Number(a)/Number(t):a,className:l("lucide",d),...!n&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"},...c},[...o.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(n)?n:[n]])),n=(e,t)=>{let a=(0,r.forwardRef)(({className:a,...i},n)=>(0,r.createElement)(d,{ref:n,iconNode:t,className:l(`lucide-${s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,a),...i}));return a.displayName=s(e),a}},25699:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(18889).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},39156:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(18889).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},44746:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(18889).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},62329:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var r=a(55155),s=a(21555),l=a(88244),i=a(15885),d=a(7769),n=a(25699),o=a(13851),c=a(78562),u=a(44746);function x(){let[e,t]=(0,s.useState)(!0),[a,x]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[m,k]=(0,s.useState)(!1),[y,g]=(0,s.useState)(""),[b,f]=(0,s.useState)(!1),[v,w]=(0,s.useState)(null),[A,j]=(0,s.useState)(null),{success:N,error:_}=(0,l.d)();(0,s.useEffect)(()=>{!async function(){t(!0);try{let e=await i.api.getProfile();e?.gemini_api_settings&&(k(e.gemini_api_settings.use_personal_key),w(e.gemini_api_settings.key_status||null),j(e.gemini_api_settings.last_validated_at||null))}finally{t(!1)}}()},[]);let C=async()=>{if(!y.trim())return void _("Please enter an API key");h(!0);try{let e=await i.api.validateGeminiKey(y);e.valid?(N("API key validated successfully"),w("active")):(_(e.error||"Invalid API key"),w("invalid"))}catch(e){_("Failed to validate API key"),w("invalid")}finally{h(!1)}},P=async()=>{x(!0);try{await i.api.updateGeminiAPIKey({use_personal_key:m,key:m?y:void 0}),N("API key settings saved"),g("")}catch(e){_("Failed to save API key settings")}finally{x(!1)}};return e?(0,r.jsx)("div",{className:"p-6",children:"Loading..."}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"API Keys"}),(0,r.jsx)("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Manage your personal API keys for AI services"})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(d.A,{className:"w-5 h-5 text-purple-600"}),(0,r.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Google Gemini API Key"})]}),(0,r.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"By default, AIMakeFood uses a shared API key. You can optionally use your own Gemini API key for more control over usage and quotas."}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-slate-900 dark:text-white",children:"Use Personal API Key"}),(0,r.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Use your own Gemini API key instead of the shared key"})]}),(0,r.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:m,onChange:e=>k(e.target.checked),className:"sr-only peer"}),(0,r.jsx)("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-slate-600 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-slate-600 peer-checked:bg-purple-600"})]})]}),m&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"API Key"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:b?"text":"password",value:y,onChange:e=>g(e.target.value),placeholder:"AIza...",className:"w-full px-4 py-2 pr-10 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-purple-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white"}),(0,r.jsx)("button",{type:"button",onClick:()=>f(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:b?(0,r.jsx)(n.A,{className:"w-4 h-4"}):(0,r.jsx)(o.A,{className:"w-4 h-4"})})]}),(0,r.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Get your API key from"," ",(0,r.jsx)("a",{href:"https://aistudio.google.com/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:underline",children:"Google AI Studio"})]})]}),(0,r.jsx)("button",{onClick:C,disabled:p||!y.trim(),className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Validating...":"Validate Key"}),v&&(0,r.jsxs)("div",{className:`flex items-center gap-2 text-sm ${"active"===v?"text-green-600":"text-red-600"}`,children:["active"===v?(0,r.jsx)(c.A,{className:"w-4 h-4"}):(0,r.jsx)(u.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"active"===v?"Key is valid":"Key validation failed"})]}),A&&(0,r.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Last validated: ",new Date(A).toLocaleDateString()]})]}),(0,r.jsx)("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:(0,r.jsx)("button",{onClick:P,disabled:a,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Saving...":"Save Settings"})})]})]})}},62649:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(18889).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},67649:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(18889).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},75686:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(18889).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},78562:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(18889).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},88244:(e,t,a)=>{"use strict";a.d(t,{d:()=>u,t:()=>m});var r=a(55155),s=a(39156),l=a(62649),i=a(67649),d=a(75686),n=a(44746),o=a(21555);let c=(0,o.createContext)(void 0);function u(){let e=(0,o.useContext)(c);if(!e)throw Error("useToast must be used within a ToastProvider");return e}let x={success:s.A,error:l.A,warning:i.A,info:d.A},p={success:{bg:"bg-green-50 dark:bg-green-500/10",border:"border-green-200 dark:border-green-500/20",icon:"text-green-500",title:"text-green-800 dark:text-green-200",message:"text-green-700 dark:text-green-300"},error:{bg:"bg-red-50 dark:bg-red-500/10",border:"border-red-200 dark:border-red-500/20",icon:"text-red-500",title:"text-red-800 dark:text-red-200",message:"text-red-700 dark:text-red-300"},warning:{bg:"bg-yellow-50 dark:bg-yellow-500/10",border:"border-yellow-200 dark:border-yellow-500/20",icon:"text-yellow-500",title:"text-yellow-800 dark:text-yellow-200",message:"text-yellow-700 dark:text-yellow-300"},info:{bg:"bg-blue-50 dark:bg-blue-500/10",border:"border-blue-200 dark:border-blue-500/20",icon:"text-blue-500",title:"text-blue-800 dark:text-blue-200",message:"text-blue-700 dark:text-blue-300"}};function h({toast:e,onRemove:t}){let a=x[e.type],s=p[e.type];return(0,o.useEffect)(()=>{let a=e.duration??5e3;if(a>0){let e=setTimeout(t,a);return()=>clearTimeout(e)}},[e.duration,t]),(0,r.jsxs)("div",{className:`${s.bg} ${s.border} border rounded-xl p-4 shadow-lg backdrop-blur-sm animate-slide-in-right flex items-start gap-3 max-w-sm w-full`,role:"alert","aria-live":"polite",children:[(0,r.jsx)(a,{className:`w-5 h-5 ${s.icon} flex-shrink-0 mt-0.5`}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:`font-medium text-sm ${s.title}`,children:e.title}),e.message&&(0,r.jsx)("p",{className:`text-sm mt-1 ${s.message}`,children:e.message})]}),(0,r.jsx)("button",{onClick:t,className:"p-1 hover:bg-black/5 dark:hover:bg-white/10 rounded-lg transition-colors flex-shrink-0","aria-label":"Dismiss notification",children:(0,r.jsx)(n.A,{className:"w-4 h-4 text-gray-400"})})]})}function m({children:e}){let[t,a]=(0,o.useState)([]),s=(0,o.useCallback)(e=>{let t=Math.random().toString(36).substring(2,9);a(a=>[...a,{...e,id:t}])},[]),l=(0,o.useCallback)(e=>{a(t=>t.filter(t=>t.id!==e))},[]),i=(0,o.useCallback)((e,t)=>s({type:"success",title:e,message:t}),[s]),d=(0,o.useCallback)((e,t)=>s({type:"error",title:e,message:t}),[s]),n=(0,o.useCallback)((e,t)=>s({type:"warning",title:e,message:t}),[s]),u=(0,o.useCallback)((e,t)=>s({type:"info",title:e,message:t}),[s]);return(0,r.jsxs)(c.Provider,{value:{toasts:t,addToast:s,removeToast:l,success:i,error:d,warning:n,info:u},children:[e,(0,r.jsx)("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2 pointer-events-none",role:"region","aria-label":"Notifications","aria-live":"polite",children:t.map(e=>(0,r.jsx)("div",{className:"pointer-events-auto",children:(0,r.jsx)(h,{toast:e,onRemove:()=>l(e.id)})},e.id))})]})}}},e=>{e.O(0,[9731,9631,5885,6939,1170,7358],()=>e(e.s=10074)),_N_E=e.O()}]);