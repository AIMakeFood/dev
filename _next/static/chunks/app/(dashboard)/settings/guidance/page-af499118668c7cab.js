(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7941],{3456:(e,t,a)=>{"use strict";a.d(t,{DX:()=>u,TL:()=>c});var s,r=a(21555),l=a(24103),n=a(55155),i=Symbol.for("react.lazy"),o=(s||(s=a.t(r,2)))[" use ".trim().toString()];function d(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===i&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function c(e){var t;let a,s=(t=e,(a=r.forwardRef((e,t)=>{let{children:a,...s}=e;if(d(a)&&"function"==typeof o&&(a=o(a._payload)),r.isValidElement(a)){var n;let e,i,o=(n=a,(i=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(i=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),d=function(e,t){let a={...t};for(let s in t){let r=e[s],l=t[s];/^on[A-Z]/.test(s)?r&&l?a[s]=(...e)=>{let t=l(...e);return r(...e),t}:r&&(a[s]=r):"style"===s?a[s]={...r,...l}:"className"===s&&(a[s]=[r,l].filter(Boolean).join(" "))}return{...e,...a}}(s,a.props);return a.type!==r.Fragment&&(d.ref=t?(0,l.t)(t,o):o),r.cloneElement(a,d)}return r.Children.count(a)>1?r.Children.only(null):null})).displayName=`${t}.SlotClone`,a),i=r.forwardRef((e,t)=>{let{children:a,...l}=e;d(a)&&"function"==typeof o&&(a=o(a._payload));let i=r.Children.toArray(a),c=i.find(h);if(c){let e=c.props.children,a=i.map(t=>t!==c?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,n.jsx)(s,{...l,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,a):null})}return(0,n.jsx)(s,{...l,ref:t,children:a})});return i.displayName=`${e}.Slot`,i}var u=c("Slot"),p=Symbol("radix.slottable");function h(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===p}},8275:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(18889).A)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]])},14912:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var s=a(55155),r=a(21555),l=a(34252),n=a(80312),i=a(8275),o=a(57541),d=a(95779),c=a(66141),u=a(39156),p=a(95382),h=a(50536),m=a(20283),x=a(33971),g=a(57809),b=a(88244),f=a(94999),y=a(49078),k=a(6895),v=a(31616);function j({enabled:e,onChange:t,disabled:a}){return(0,s.jsx)("button",{type:"button",onClick:()=>!a&&t(!e),disabled:a,className:(0,v.cn)("relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out",e?"bg-emerald-500":"bg-slate-200 dark:bg-slate-700",a&&"opacity-50 cursor-not-allowed"),children:(0,s.jsx)("span",{className:(0,v.cn)("pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",e?"translate-x-5":"translate-x-0")})})}function w({value:e,onChange:t,min:a,max:r,step:l=1,label:n,unit:i,disabled:o}){return(0,s.jsxs)("div",{className:"space-y-2",children:[n&&(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:n}),(0,s.jsxs)("span",{className:"font-medium text-slate-900 dark:text-white",children:[e,i]})]}),(0,s.jsx)("input",{type:"range",value:e,onChange:e=>t(Number(e.target.value)),min:a,max:r,step:l,disabled:o,className:(0,v.cn)("w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-orange-500",o&&"opacity-50 cursor-not-allowed")})]})}let N={professional_chef:"\uD83D\uDC68‍\uD83C\uDF73",friendly_mom:"\uD83D\uDC69",surfer_dude:"\uD83C\uDFC4",skater:"\uD83D\uDEF9",gordon_style:"\uD83D\uDD25",gentle_grandma:"\uD83D\uDC75",robot_chef:"\uD83E\uDD16"};function C({persona:e,isSelected:t,onSelect:a,onPreview:r,isSpeaking:i}){let o=N[e.id]||"\uD83D\uDC64";return(0,s.jsx)("div",{onClick:a,onKeyDown:e=>"Enter"===e.key&&a(),role:"button",tabIndex:0,className:(0,v.cn)("w-full text-left p-4 rounded-xl border-2 transition-all cursor-pointer",t?"border-orange-500 bg-orange-50 dark:bg-orange-950/30":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"),children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:(0,v.cn)("text-4xl p-3 rounded-xl",t?"bg-orange-100 dark:bg-orange-900/50":"bg-slate-100 dark:bg-slate-800"),children:o}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h4",{className:(0,v.cn)("font-bold",t?"text-orange-700 dark:text-orange-400":"text-slate-900 dark:text-white"),children:e.name}),t&&(0,s.jsx)("span",{className:"px-2 py-0.5 bg-orange-500 text-white text-xs font-medium rounded-full",children:"Selected"})]}),(0,s.jsx)("p",{className:(0,v.cn)("text-sm mt-1",t?"text-orange-600 dark:text-orange-300":"text-slate-500 dark:text-slate-400"),children:e.personality}),(0,s.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),r()},className:(0,v.cn)("flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors","bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700","text-slate-600 dark:text-slate-400"),disabled:i,children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.A,{className:"w-3 h-3 animate-pulse"}),"Speaking..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.A,{className:"w-3 h-3"}),"Preview"]})}),e.example_phrases?.[0]&&(0,s.jsxs)("span",{className:"text-xs text-slate-400 dark:text-slate-500 italic truncate",children:['"',e.example_phrases[0],'"']})]})]})]})})}function _(){let{guidanceSettings:e,updateGuidanceSettings:t,currentPersona:a,setPersona:l,settingsSaving:n}=(0,f.Wh)(),{speakCustom:N,isSpeaking:_,isSupported:A}=(0,y.G)(),S=(0,b.d)(),[M,L]=(0,r.useState)(e),[E,V]=(0,r.useState)(!1),W=(0,k.FJ)();(0,r.useEffect)(()=>{L(e)},[e]),(0,r.useEffect)(()=>{V(JSON.stringify(M)!==JSON.stringify(e))},[M,e]);let z=async()=>{try{await t(M),S.success("Settings saved","Your guidance settings have been updated.")}catch{S.error("Failed to save","Please try again.")}};return(0,s.jsxs)("div",{className:"max-w-2xl space-y-6",children:[(0,s.jsx)(g.Zp,{children:(0,s.jsx)(g.Wu,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:(0,v.cn)("p-3 rounded-xl",M.enabled?"bg-orange-100 dark:bg-orange-900/30":"bg-slate-100 dark:bg-slate-800"),children:(0,s.jsx)(i.A,{className:(0,v.cn)("w-6 h-6",M.enabled?"text-orange-600 dark:text-orange-400":"text-slate-400 dark:text-slate-500")})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-slate-900 dark:text-white",children:"AI Chef Guide"}),(0,s.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:M.enabled?"Get tips and guidance as you cook":"Guide is disabled"})]})]}),(0,s.jsx)(j,{enabled:M.enabled,onChange:e=>L(t=>({...t,enabled:e}))})]})})}),(0,s.jsxs)(g.Zp,{children:[(0,s.jsx)(g.aR,{children:(0,s.jsxs)(g.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(o.A,{className:"w-5 h-5"}),"Choose Your Chef Persona"]})}),(0,s.jsxs)(g.Wu,{className:"space-y-3",children:[!A&&(0,s.jsx)("div",{className:"p-4 bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 rounded-xl text-sm text-amber-700 dark:text-amber-300",children:"Voice synthesis is not supported in your browser. Text guidance will still work."}),W.map(e=>(0,s.jsx)(C,{persona:e,isSelected:M.persona===e.id,onSelect:()=>{var t;let a;return t=e.id,void((a=W.find(e=>e.id===t))&&L(e=>({...e,persona:t,persona_name:a.name})))},onPreview:()=>{e.example_phrases?.length&&N(e.example_phrases[Math.floor(Math.random()*e.example_phrases.length)])},isSpeaking:_&&a?.id===e.id},e.id))]})]}),(0,s.jsxs)(g.Zp,{children:[(0,s.jsx)(g.aR,{children:(0,s.jsxs)(g.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(d.A,{className:"w-5 h-5"}),"Voice Settings"]})}),(0,s.jsxs)(g.Wu,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-slate-900 dark:text-white",children:"Enable Voice"}),(0,s.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Chef will speak guidance aloud"})]}),(0,s.jsx)(j,{enabled:M.voice_enabled,onChange:e=>L(t=>({...t,voice_enabled:e})),disabled:!M.enabled||!A})]}),M.voice_enabled&&M.enabled&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w,{label:"Voice Volume",value:Math.round(100*M.voice_volume),onChange:e=>L(t=>({...t,voice_volume:e/100})),min:10,max:100,step:10,unit:"%"}),(0,s.jsx)(w,{label:"Speaking Speed",value:M.voice_speed,onChange:e=>L(t=>({...t,voice_speed:e})),min:.5,max:1.5,step:.1,unit:"x"})]})]})]}),(0,s.jsxs)(g.Zp,{children:[(0,s.jsx)(g.aR,{children:(0,s.jsx)(g.ZB,{children:"Auto-Speak When"})}),(0,s.jsxs)(g.Wu,{className:"space-y-4",children:[(0,s.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Choose when the chef guide automatically speaks"}),(0,s.jsx)("div",{className:"space-y-3",children:[{key:"hazards",label:"Safety hazards detected",icon:c.A,description:"Alert me to dangers in the kitchen"},{key:"tips",label:"Cooking tips and suggestions",icon:o.A,description:"Share helpful techniques"},{key:"progress",label:"Progress updates",icon:u.A,description:'"Step 2 complete!"'},{key:"encouragement",label:"Encouragement",icon:p.A,description:'"Great job!", "Keep it up!"'}].map(e=>(0,s.jsxs)("div",{className:(0,v.cn)("flex items-center justify-between p-4 rounded-xl border transition-colors",M.auto_speak[e.key]?"border-emerald-200 dark:border-emerald-800 bg-emerald-50/50 dark:bg-emerald-950/20":"border-slate-200 dark:border-slate-700"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(e.icon,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-slate-900 dark:text-white",children:e.label}),(0,s.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:e.description})]})]}),(0,s.jsx)(j,{enabled:M.auto_speak[e.key],onChange:t=>{var a;return a=e.key,void L(e=>({...e,auto_speak:{...e.auto_speak,[a]:t}}))},disabled:!M.enabled||!M.voice_enabled})]},e.key))})]})]}),(0,s.jsxs)(g.Zp,{children:[(0,s.jsx)(g.aR,{children:(0,s.jsx)(g.ZB,{children:"Guidance Topics"})}),(0,s.jsxs)(g.Wu,{className:"space-y-4",children:[(0,s.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Choose which topics you want guidance on"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{key:"knife_skills",label:"Knife Skills",emoji:"\uD83D\uDD2A"},{key:"cooking_techniques",label:"Cooking Techniques",emoji:"\uD83C\uDF73"},{key:"safety_tips",label:"Safety Tips",emoji:"⚠️"},{key:"ingredient_handling",label:"Ingredient Handling",emoji:"\uD83E\uDD57"},{key:"timing_guidance",label:"Timing Guidance",emoji:"⏱️"},{key:"plating_tips",label:"Plating Tips",emoji:"\uD83C\uDF7D️"}].map(e=>(0,s.jsxs)("button",{onClick:()=>{var t,a;return t=e.key,a=!M.topics[e.key],void L(e=>({...e,topics:{...e.topics,[t]:a}}))},disabled:!M.enabled,className:(0,v.cn)("flex items-center gap-3 p-3 rounded-xl border-2 transition-all text-left",M.topics[e.key]?"border-orange-500 bg-orange-50 dark:bg-orange-950/30":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600",!M.enabled&&"opacity-50 cursor-not-allowed"),children:[(0,s.jsx)("span",{className:"text-xl",children:e.emoji}),(0,s.jsx)("span",{className:(0,v.cn)("text-sm font-medium",M.topics[e.key]?"text-orange-700 dark:text-orange-400":"text-slate-700 dark:text-slate-300"),children:e.label})]},e.key))})]})]}),(0,s.jsxs)(g.Zp,{children:[(0,s.jsx)(g.aR,{children:(0,s.jsx)(g.ZB,{children:"Verbosity Level"})}),(0,s.jsxs)(g.Wu,{children:[(0,s.jsx)("div",{className:"flex gap-2",children:["minimal","normal","chatty"].map(e=>(0,s.jsx)("button",{onClick:()=>L(t=>({...t,verbosity:e})),disabled:!M.enabled,className:(0,v.cn)("flex-1 py-3 px-4 rounded-xl font-medium text-sm transition-all",M.verbosity===e?"bg-orange-500 text-white":"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700",!M.enabled&&"opacity-50 cursor-not-allowed"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,s.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-3",children:["minimal"===M.verbosity&&"Brief, essential guidance only","normal"===M.verbosity&&"Balanced tips and feedback","chatty"===M.verbosity&&"Lots of commentary and encouragement"]})]})]}),(0,s.jsx)(x.$,{onClick:z,disabled:n||!E,className:"w-full h-12",children:n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):E?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Save Changes"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Settings Saved"]})})]})}},20283:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(18889).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},24103:(e,t,a)=>{"use strict";a.d(t,{s:()=>n,t:()=>l});var s=a(21555);function r(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function l(...e){return t=>{let a=!1,s=e.map(e=>{let s=r(e,t);return a||"function"!=typeof s||(a=!0),s});if(a)return()=>{for(let t=0;t<s.length;t++){let a=s[t];"function"==typeof a?a():r(e[t],null)}}}}function n(...e){return s.useCallback(l(...e),e)}},34252:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(18889).A)("waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]])},39156:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(18889).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},44746:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(18889).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},47426:(e,t,a)=>{"use strict";a.d(t,{F:()=>n});var s=a(43696);let r=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=s.$,n=(e,t)=>a=>{var s;if((null==t?void 0:t.variants)==null)return l(e,null==a?void 0:a.class,null==a?void 0:a.className);let{variants:n,defaultVariants:i}=t,o=Object.keys(n).map(e=>{let t=null==a?void 0:a[e],s=null==i?void 0:i[e];if(null===t)return null;let l=r(t)||r(s);return n[e][l]}),d=a&&Object.entries(a).reduce((e,t)=>{let[a,s]=t;return void 0===s||(e[a]=s),e},{});return l(e,o,null==t||null==(s=t.compoundVariants)?void 0:s.reduce((e,t)=>{let{class:a,className:s,...r}=t;return Object.entries(r).every(e=>{let[t,a]=e;return Array.isArray(a)?a.includes({...i,...d}[t]):({...i,...d})[t]===a})?[...e,a,s]:e},[]),null==a?void 0:a.class,null==a?void 0:a.className)}},49078:(e,t,a)=>{"use strict";a.d(t,{G:()=>n});var s=a(21555),r=a(94999),l=a(6895);function n(e={}){let{guidanceSettings:t,currentPersona:a}=(0,r.Wh)(),i=e.enabled??t.voice_enabled,o=e.voiceVolume??t.voice_volume,d=e.voiceSpeed??t.voice_speed,{speak:c,cancel:u,isSpeaking:p,isSupported:h,voices:m,setSelectedVoice:x}=function(e={}){let{defaultRate:t=1,defaultPitch:a=1,defaultVolume:r=1,preferredVoiceLang:l="en"}=e,[n,i]=(0,s.useState)([]),[o,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[m,x]=(0,s.useState)(!1),g=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e="speechSynthesis"in window;if(x(e),!e)return;let t=()=>{let e=window.speechSynthesis.getVoices();if(i(e),e.length>0&&!o){let t=e.find(e=>e.lang.startsWith(l)&&e.localService),a=e.find(e=>e.lang.startsWith(l));d(t||a||e[0])}};return t(),window.speechSynthesis.addEventListener("voiceschanged",t),()=>{window.speechSynthesis.removeEventListener("voiceschanged",t)}},[l,o]);let b=(0,s.useCallback)(e=>n.filter(t=>t.lang.startsWith(e)),[n]),f=(0,s.useCallback)((e,s={})=>{if(!m||!e)return;window.speechSynthesis.cancel();let l=new SpeechSynthesisUtterance(e);l.rate=s.rate??t,l.pitch=s.pitch??a,l.volume=s.volume??r,l.voice=s.voice??o,l.onstart=()=>{u(!0),h(!1)},l.onend=()=>{u(!1),h(!1)},l.onerror=e=>{console.error("Speech synthesis error:",e.error),u(!1),h(!1)},l.onpause=()=>{h(!0)},l.onresume=()=>{h(!1)},g.current=l,window.speechSynthesis.speak(l)},[m,t,a,r,o]),y=(0,s.useCallback)(()=>{m&&(window.speechSynthesis.cancel(),u(!1),h(!1))},[m]),k=(0,s.useCallback)(()=>{m&&c&&window.speechSynthesis.pause()},[m,c]),v=(0,s.useCallback)(()=>{m&&p&&window.speechSynthesis.resume()},[m,p]);return(0,s.useEffect)(()=>()=>{m&&window.speechSynthesis.cancel()},[m]),{speak:f,cancel:y,pause:k,resume:v,isSpeaking:c,isPaused:p,isSupported:m,voices:n,selectedVoice:o,setSelectedVoice:d,getVoicesByLang:b}}({defaultVolume:o,defaultRate:d}),[g,b]=(0,s.useState)([]),f=(0,s.useRef)(!1),y=(0,s.useRef)(new Map);(0,s.useEffect)(()=>{if(m.length>0&&a){let e=function(e,t){if(0===e.length)return null;let a=e.filter(e=>e.lang.startsWith("en"));switch(t){case"professional_chef":return a.find(e=>e.name.toLowerCase().includes("daniel"))||a.find(e=>e.name.toLowerCase().includes("james"))||a.find(e=>!e.name.toLowerCase().includes("female")&&e.localService)||a[0];case"friendly_mom":return a.find(e=>e.name.toLowerCase().includes("samantha"))||a.find(e=>e.name.toLowerCase().includes("karen"))||a.find(e=>e.name.toLowerCase().includes("female"))||a.find(e=>e.name.toLowerCase().includes("woman"))||a[0];case"gentle_grandma":return a.find(e=>e.name.toLowerCase().includes("fiona"))||a.find(e=>e.name.toLowerCase().includes("victoria"))||a.find(e=>e.name.toLowerCase().includes("female"))||a[0];case"surfer_dude":case"skater":return a.find(e=>e.name.toLowerCase().includes("alex"))||a.find(e=>e.name.toLowerCase().includes("tom"))||a.find(e=>"en-US"===e.lang&&e.localService)||a[0];case"gordon_style":return a.find(e=>"en-GB"===e.lang&&!e.name.toLowerCase().includes("female"))||a.find(e=>e.name.toLowerCase().includes("daniel"))||a[0];case"robot_chef":return a.find(e=>e.localService)||a[0];default:return a[0]||e[0]}}(m,a.id);e&&x(e)}},[m,a,x]),(0,s.useEffect)(()=>{if(!i||!h||p||0===g.length||f.current)return;f.current=!0;let e=[...g].sort((e,t)=>t.priority-e.priority)[0];b(t=>t.filter(t=>t!==e));let t=function(e){switch(e){case"professional_chef":default:return{rate:1,pitch:1};case"friendly_mom":return{rate:.95,pitch:1.1};case"gentle_grandma":return{rate:.85,pitch:1.05};case"surfer_dude":return{rate:.9,pitch:.95};case"skater":return{rate:1.15,pitch:1};case"gordon_style":return{rate:1.1,pitch:.9};case"robot_chef":return{rate:.95,pitch:.8}}}(a.id);c(e.text,{volume:o,rate:d*t.rate,pitch:t.pitch}),setTimeout(()=>{f.current=!1},500)},[i,h,p,g,a,c,o,d]);let k=(0,s.useCallback)((e,t=3e3)=>{if(!i||!h)return;let a=`${e.type}-${e.text.substring(0,50)}`,s=y.current.get(a),r=Date.now();s&&r-s<t||(y.current.set(a,r),b(t=>[...t.filter(t=>t.type!==e.type||t.text!==e.text),e]))},[i,h]),v=(0,s.useCallback)(e=>{if(!t.auto_speak.hazards)return;let s="critical"===e.severity||"safety"===e.severity?"urgent":"warning"===e.severity?"warning":"info";k({text:e.voice_message||(0,l.s_)(a.id,e.type,s),priority:"critical"===e.severity?10:"safety"===e.severity?8:5,type:"hazard"},"urgent"===s?2e3:5e3)},[a.id,t.auto_speak.hazards,k]),j=(0,s.useCallback)(e=>{t.auto_speak.tips&&k({text:e,priority:3,type:"tip"},1e4)},[t.auto_speak.tips,k]),w=(0,s.useCallback)(e=>{t.auto_speak.encouragement&&k({text:e,priority:2,type:"encouragement"},15e3)},[t.auto_speak.encouragement,k]),N=(0,s.useCallback)(e=>{t.auto_speak.progress&&k({text:e,priority:4,type:"progress"},5e3)},[t.auto_speak.progress,k]),C=(0,s.useCallback)(e=>{k({text:e,priority:5,type:"custom"},1e3)},[k]),_=(0,s.useCallback)(()=>{u(),b([]),f.current=!1},[u]),A=(0,s.useCallback)(()=>{b([])},[]);return{speakHazard:v,speakTip:j,speakEncouragement:w,speakProgress:N,speakCustom:C,cancel:_,isSpeaking:p,isSupported:h,currentPersona:a,queueLength:g.length,clearQueue:A}}},50536:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(18889).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},57541:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(18889).A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},57829:(e,t,a)=>{Promise.resolve().then(a.bind(a,14912))},62649:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(18889).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},66141:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(18889).A)("flame",[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]])},67649:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(18889).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},75686:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(18889).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},80312:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(18889).A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},88244:(e,t,a)=>{"use strict";a.d(t,{d:()=>u,t:()=>x});var s=a(55155),r=a(39156),l=a(62649),n=a(67649),i=a(75686),o=a(44746),d=a(21555);let c=(0,d.createContext)(void 0);function u(){let e=(0,d.useContext)(c);if(!e)throw Error("useToast must be used within a ToastProvider");return e}let p={success:r.A,error:l.A,warning:n.A,info:i.A},h={success:{bg:"bg-green-50 dark:bg-green-500/10",border:"border-green-200 dark:border-green-500/20",icon:"text-green-500",title:"text-green-800 dark:text-green-200",message:"text-green-700 dark:text-green-300"},error:{bg:"bg-red-50 dark:bg-red-500/10",border:"border-red-200 dark:border-red-500/20",icon:"text-red-500",title:"text-red-800 dark:text-red-200",message:"text-red-700 dark:text-red-300"},warning:{bg:"bg-yellow-50 dark:bg-yellow-500/10",border:"border-yellow-200 dark:border-yellow-500/20",icon:"text-yellow-500",title:"text-yellow-800 dark:text-yellow-200",message:"text-yellow-700 dark:text-yellow-300"},info:{bg:"bg-blue-50 dark:bg-blue-500/10",border:"border-blue-200 dark:border-blue-500/20",icon:"text-blue-500",title:"text-blue-800 dark:text-blue-200",message:"text-blue-700 dark:text-blue-300"}};function m({toast:e,onRemove:t}){let a=p[e.type],r=h[e.type];return(0,d.useEffect)(()=>{let a=e.duration??5e3;if(a>0){let e=setTimeout(t,a);return()=>clearTimeout(e)}},[e.duration,t]),(0,s.jsxs)("div",{className:`${r.bg} ${r.border} border rounded-xl p-4 shadow-lg backdrop-blur-sm animate-slide-in-right flex items-start gap-3 max-w-sm w-full`,role:"alert","aria-live":"polite",children:[(0,s.jsx)(a,{className:`w-5 h-5 ${r.icon} flex-shrink-0 mt-0.5`}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:`font-medium text-sm ${r.title}`,children:e.title}),e.message&&(0,s.jsx)("p",{className:`text-sm mt-1 ${r.message}`,children:e.message})]}),(0,s.jsx)("button",{onClick:t,className:"p-1 hover:bg-black/5 dark:hover:bg-white/10 rounded-lg transition-colors flex-shrink-0","aria-label":"Dismiss notification",children:(0,s.jsx)(o.A,{className:"w-4 h-4 text-gray-400"})})]})}function x({children:e}){let[t,a]=(0,d.useState)([]),r=(0,d.useCallback)(e=>{let t=Math.random().toString(36).substring(2,9);a(a=>[...a,{...e,id:t}])},[]),l=(0,d.useCallback)(e=>{a(t=>t.filter(t=>t.id!==e))},[]),n=(0,d.useCallback)((e,t)=>r({type:"success",title:e,message:t}),[r]),i=(0,d.useCallback)((e,t)=>r({type:"error",title:e,message:t}),[r]),o=(0,d.useCallback)((e,t)=>r({type:"warning",title:e,message:t}),[r]),u=(0,d.useCallback)((e,t)=>r({type:"info",title:e,message:t}),[r]);return(0,s.jsxs)(c.Provider,{value:{toasts:t,addToast:r,removeToast:l,success:n,error:i,warning:o,info:u},children:[e,(0,s.jsx)("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2 pointer-events-none",role:"region","aria-label":"Notifications","aria-live":"polite",children:t.map(e=>(0,s.jsx)("div",{className:"pointer-events-auto",children:(0,s.jsx)(m,{toast:e,onRemove:()=>l(e.id)})},e.id))})]})}},95382:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(18889).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},95779:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(18889).A)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]])}},e=>{e.O(0,[9731,9631,7139,5885,9889,6939,1170,7358],()=>e(e.s=57829)),_N_E=e.O()}]);