(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5511],{69537:(e,t,s)=>{Promise.resolve().then(s.bind(s,88998))},88998:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var a=s(55155),l=s(66707),n=s(25990),i=s(9667),d=s(3948),r=s.n(d),c=s(21555),o=s(33971),h=s(88200),m=s(34633),u=s(83518),x=s(77528),g=s(81822),p=s(54788),f=s(33474),y=s(62394);function j(){let[e,t]=(0,c.useState)(!1),[s,d]=(0,c.useState)(!1),[j,b]=(0,c.useState)("off"),[v,N]=(0,c.useState)(""),[S,k]=(0,c.useState)(0),[w,C]=(0,c.useState)(!0),[R,M]=(0,c.useState)(!0),[H]=(0,c.useState)(!0),{metrics:F,recordIngredientFrame:I,recordSafetyFrame:z,recordApiResponse:O,reset:P}=(0,f.B)(),[T,$]=(0,c.useState)([]),[_,B]=(0,c.useState)([]),[E,L]=(0,c.useState)([]),[A,Z]=(0,c.useState)([]),[D,V]=(0,c.useState)(null),q=(0,c.useCallback)((e,t)=>{I(e);let s=150+200*Math.random();setTimeout(()=>{O(500+500*Math.random(),s);let a={id:(0,y.VG)(),type:"frame",timestamp:Date.now(),title:`Ingredient frame ${t.width}x${t.height}`,data:{sizeBytes:e,resolution:t,latency:Math.round(s)},latency:Math.round(s),size:e};Z(e=>[a,...e.slice(0,49)])},s)},[I,O]),G=(0,c.useCallback)((e,t)=>{z(e);let s=100+150*Math.random();setTimeout(()=>{O(300+300*Math.random(),s);let a={id:(0,y.VG)(),type:"frame",timestamp:Date.now(),title:`Safety frame ${t.width}x${t.height}`,data:{sizeBytes:e,resolution:t,latency:Math.round(s),hazards:[]},latency:Math.round(s),size:e};Z(e=>[a,...e.slice(0,49)])},s)},[z,O]),J=(0,c.useCallback)(()=>{b(e=>"off"===e?"listening":"off"),"off"===j&&M(!0)},[j]),K=(0,c.useCallback)(()=>{P(),$([]),B([]),L([]),Z([]),V(null),N(""),k(0)},[P]);return(0,a.jsxs)("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-white",children:[(0,a.jsx)("div",{className:"sticky top-0 bg-white/95 dark:bg-slate-900/95 backdrop-blur border-b border-slate-200 dark:border-slate-800",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(l.A,{className:"w-6 h-6 text-orange-500"}),(0,a.jsx)("h1",{className:"text-xl font-bold",children:"System Monitor"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(p.Iq,{cameraPermission:w,micPermission:R,apiConnected:H,safetyEnabled:s,ingredientEnabled:e}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(o.$,{variant:"ghost",size:"sm",onClick:K,className:"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white",children:[(0,a.jsx)(n.A,{className:"w-4 h-4 mr-1"}),"Reset"]}),(0,a.jsx)(r(),{href:"/settings",children:(0,a.jsx)(o.$,{variant:"ghost",size:"sm",className:"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white",children:(0,a.jsx)(i.A,{className:"w-4 h-4"})})})]})]})]})})}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsx)(x.P,{type:"ingredient",enabled:e,onToggle:()=>t(!e),onFrameCapture:q,fps:F.ingredientFps,dataRate:F.uploadRate/2,lastResult:"2 tomatoes, 1 onion, garlic"}),(0,a.jsx)(x.P,{type:"safety",enabled:s,onToggle:()=>d(!s),onFrameCapture:G,fps:F.safetyFps,dataRate:F.uploadRate/2,lastResult:"No hazards detected"})]}),(0,a.jsx)(m.n,{voiceStatus:j,lastCommand:v,lastCommandTime:S,onToggleMic:J}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-4",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsx)(g.f,{fpsHistory:F.fpsHistory,bandwidthHistory:F.bandwidthHistory,latencyHistory:F.latencyHistory,currentFps:{ingredient:F.ingredientFps,safety:F.safetyFps},currentBandwidth:{up:F.uploadRate,down:F.downloadRate},currentLatency:{last:F.lastLatency,avg:F.avgLatency},totalBytes:{sent:F.totalBytesSent,received:F.totalBytesReceived}})}),(0,a.jsx)(u.qj,{selectedItem:D,className:"min-h-[300px]"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(h.n,{title:"API Response Log",count:T.length,defaultOpen:!1,children:(0,a.jsx)(u.Zg,{entries:T,selectedId:D?.id||null,onSelect:V})}),(0,a.jsx)(h.n,{title:"Detected Hazards History",count:_.length,defaultOpen:!1,children:(0,a.jsx)(u.Zg,{entries:_,selectedId:D?.id||null,onSelect:V})}),(0,a.jsx)(h.n,{title:"Voice Command History",count:E.length,defaultOpen:!1,children:(0,a.jsx)(u.Zg,{entries:E,selectedId:D?.id||null,onSelect:V})}),(0,a.jsx)(h.n,{title:"Frame Capture Log",count:A.length,defaultOpen:!0,children:(0,a.jsx)(u.Zg,{entries:A,selectedId:D?.id||null,onSelect:V})})]})]})]})}}},e=>{e.O(0,[9731,7139,3948,3970,4165,6939,1170,7358],()=>e(e.s=69537)),_N_E=e.O()}]);