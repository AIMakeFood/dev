(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7242],{31616:(e,t,s)=>{"use strict";s.d(t,{cn:()=>r});var a=s(43696),l=s(33086);function r(...e){return(0,l.QP)((0,a.$)(e))}},33971:(e,t,s)=>{"use strict";s.d(t,{$:()=>d,r:()=>n});var a=s(55155),l=s(3456),r=s(47426),i=s(31616);let n=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-bold transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:ring-2 focus-visible:ring-orange-500 focus-visible:ring-offset-2",{variants:{variant:{default:"bg-orange-500 text-white hover:bg-orange-600 shadow-md shadow-orange-200 dark:shadow-orange-900/20",destructive:"bg-red-500 text-white hover:bg-red-600 shadow-md shadow-red-200 dark:shadow-red-900/20",outline:"border-2 border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800 hover:border-slate-300 dark:hover:border-slate-600",secondary:"bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white hover:bg-slate-200 dark:hover:bg-slate-700",ghost:"hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-900 dark:text-white",link:"text-orange-500 dark:text-orange-400 underline-offset-4 hover:underline"},size:{default:"h-11 px-5 py-2",sm:"h-9 rounded-lg px-3 text-xs",lg:"h-14 rounded-2xl px-8 text-base",icon:"size-10"}},defaultVariants:{variant:"default",size:"default"}});function d({className:e,variant:t,size:s,asChild:r=!1,...d}){let c=r?l.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,i.cn)(n({variant:t,size:s,className:e})),...d})}},57809:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>n,Zp:()=>r,aR:()=>i});var a=s(55155),l=s(31616);function r({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,l.cn)("bg-white dark:bg-slate-900 text-slate-900 dark:text-white flex flex-col gap-6 rounded-2xl border border-slate-200 dark:border-slate-800 py-6 shadow-sm",e),...t})}function i({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,l.cn)("flex flex-col gap-1.5 px-6",e),...t})}function n({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,l.cn)("leading-none font-bold tracking-tight text-xl",e),...t})}function d({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,l.cn)("text-slate-600 dark:text-slate-400 text-sm",e),...t})}function c({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,l.cn)("px-6",e),...t})}},58915:(e,t,s)=>{"use strict";s.d(t,{k:()=>l});var a=s(55155);function l({size:e="md",text:t="AI is Thinking..."}){return(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:`relative ${{sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"}[e]}`,children:[(0,a.jsx)("div",{className:"absolute inset-0 border-4 border-orange-200 rounded-full"}),(0,a.jsx)("div",{className:"absolute inset-0 border-4 border-orange-500 rounded-full border-t-transparent animate-spin"})]}),t&&(0,a.jsx)("p",{className:"text-xs font-bold uppercase tracking-widest text-orange-500 animate-pulse",children:t})]})}},75031:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>z});var a=s(55155),l=s(3738),r=s(80215),i=s(7746),n=s(57541),d=s(49860),c=s(33444),o=s(24290),x=s(3948),u=s.n(x),m=s(94564),h=s(21555),g=s(58915),p=s(18546),f=s(57809);function b({recipe:e}){return(0,a.jsx)(u(),{href:`/recipe?id=${e.id}`,children:(0,a.jsx)(f.Zp,{className:"hover:shadow-lg transition-all cursor-pointer group overflow-hidden h-full",children:(0,a.jsxs)("div",{className:"p-5 space-y-3 flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("h3",{className:"font-bold text-lg group-hover:text-orange-500 transition-colors line-clamp-1",children:e.title}),e.cuisine&&(0,a.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:e.cuisine})]}),e.match_score?(0,a.jsxs)("span",{className:"flex-shrink-0 px-2 py-1 bg-teal-100 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 text-xs font-bold rounded-full",children:[e.match_score,"%"]}):e.rating_avg?(0,a.jsxs)("span",{className:"flex-shrink-0 flex items-center gap-1 px-2 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 text-xs font-bold rounded-full",children:[(0,a.jsx)(o.A,{className:"w-3 h-3 fill-current"}),e.rating_avg.toFixed(1)]}):null]}),(0,a.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 line-clamp-2 flex-1",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-slate-400",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(c.A,{className:"w-3.5 h-3.5"}),e.cook_time_minutes," min"]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(p.A,{className:"w-3.5 h-3.5"}),e.servings]}),(0,a.jsx)("span",{className:`px-2 py-0.5 rounded-full capitalize text-[10px] font-bold ${{easy:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",medium:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",hard:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}[e.difficulty]}`,children:e.difficulty})]}),e.tags&&e.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5 pt-2",children:e.tags.slice(0,3).map(e=>(0,a.jsx)("span",{className:"px-2 py-0.5 bg-slate-100 dark:bg-slate-700 rounded-full text-[10px] font-medium text-slate-500 dark:text-slate-400",children:e},e))})]})})})}var v=s(57798),j=s(44746),k=s(44143),N=s(52830),y=s(33971);let w=["All","Italian","Asian","Mexican","Mediterranean","American","French","Indian"],_=[{label:"Any",value:void 0},{label:"Quick (<20 min)",value:20},{label:"Medium (20-45 min)",value:45},{label:"Long (45+ min)",value:90}],C=[{label:"Newest",value:"created_at"},{label:"Title",value:"title"},{label:"Cook Time",value:"cook_time"},{label:"Difficulty",value:"difficulty"},{label:"Rating",value:"rating"}];function A({filters:e,onFiltersChange:t,onSearch:s,isLoading:l,totalResults:r}){let[i,n]=(0,h.useState)(!1),d=(0,h.useCallback)((s,a)=>{t({...e,[s]:a,page:1})},[e,t]),o=(0,h.useCallback)(()=>{t({page:1,limit:e.limit})},[e.limit,t]),x=e.query||e.cuisine||e.difficulty||e.max_cook_time||e.min_cook_time;return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(v.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,a.jsx)("input",{type:"text",value:e.query||"",onChange:e=>d("query",e.target.value||void 0),onKeyDown:e=>{"Enter"===e.key&&s()},placeholder:"Search recipes...",className:"w-full pl-10 pr-4 py-2.5 bg-slate-100 dark:bg-slate-800 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"}),e.query&&(0,a.jsx)("button",{onClick:()=>d("query",void 0),className:"absolute right-3 top-1/2 -translate-y-1/2",children:(0,a.jsx)(j.A,{className:"w-4 h-4 text-slate-400 hover:text-slate-600"})})]}),(0,a.jsx)(y.$,{onClick:s,disabled:l,className:"rounded-xl px-6",children:l?"Searching...":"Search"}),(0,a.jsx)(y.$,{variant:"outline",onClick:()=>n(!i),className:"rounded-xl",children:(0,a.jsx)(k.A,{className:"w-4 h-4"})})]}),(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:w.map(t=>{let s="All"===t?!e.cuisine:e.cuisine===t;return(0,a.jsx)("button",{onClick:()=>d("cuisine","All"===t?void 0:t),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${s?"bg-orange-500 text-white":"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:t},t)})}),i&&(0,a.jsxs)("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-600 dark:text-slate-400",children:[(0,a.jsx)(N.A,{className:"w-4 h-4"}),"Advanced Filters"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-slate-500 mb-1.5",children:"Difficulty"}),(0,a.jsxs)("select",{value:e.difficulty||"",onChange:e=>d("difficulty",e.target.value?e.target.value:void 0),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,a.jsx)("option",{value:"",children:"All Difficulties"}),(0,a.jsx)("option",{value:"easy",children:"Easy"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"hard",children:"Hard"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-slate-500 mb-1.5",children:[(0,a.jsx)(c.A,{className:"w-3 h-3 inline mr-1"}),"Cook Time"]}),(0,a.jsx)("select",{value:45===e.min_cook_time?"90":20===e.min_cook_time?"45":e.max_cook_time?.toString()||"",onChange:s=>{var a;void 0===(a=s.target.value?parseInt(s.target.value):void 0)?t({...e,max_cook_time:void 0,min_cook_time:void 0,page:1}):20===a?t({...e,max_cook_time:20,min_cook_time:void 0,page:1}):45===a?t({...e,max_cook_time:45,min_cook_time:20,page:1}):t({...e,max_cook_time:void 0,min_cook_time:45,page:1})},className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:_.map(e=>(0,a.jsx)("option",{value:e.value?.toString()||"",children:e.label},e.label))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-slate-500 mb-1.5",children:"Sort By"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("select",{value:e.sort_by||"created_at",onChange:e=>d("sort_by",e.target.value),className:"flex-1 px-3 py-2 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:C.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,a.jsx)("button",{onClick:()=>d("sort_order","asc"===e.sort_order?"desc":"asc"),className:"px-3 py-2 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm hover:bg-slate-50 dark:hover:bg-slate-600",title:"asc"===e.sort_order?"Ascending":"Descending",children:"asc"===e.sort_order?"↑":"↓"})]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center gap-2 flex-wrap",children:x&&(0,a.jsxs)(a.Fragment,{children:[e.difficulty&&(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded-full text-xs",children:[e.difficulty,(0,a.jsx)("button",{onClick:()=>d("difficulty",void 0),children:(0,a.jsx)(j.A,{className:"w-3 h-3"})})]}),(e.max_cook_time||e.min_cook_time)&&(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded-full text-xs",children:[45===e.min_cook_time?"45+ min":20===e.min_cook_time?"20-45 min":`<${e.max_cook_time} min`,(0,a.jsx)("button",{onClick:()=>t({...e,max_cook_time:void 0,min_cook_time:void 0}),children:(0,a.jsx)(j.A,{className:"w-3 h-3"})})]}),(0,a.jsx)("button",{onClick:o,className:"text-xs text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",children:"Clear all"})]})}),void 0!==r&&(0,a.jsxs)("span",{className:"text-sm text-slate-500",children:[r," ",1===r?"recipe":"recipes"," found"]})]})]})}let S=["All","Italian","Asian","Mexican","Mediterranean","Quick & Easy"];function $({recipes:e}){let[t,s]=(0,h.useState)("All"),l="All"===t?e:e.filter(e=>e.cuisine===t||e.tags?.includes(t));return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:S.map(e=>(0,a.jsx)(y.$,{variant:t===e?"default":"outline",onClick:()=>s(e),className:"rounded-full whitespace-nowrap",size:"sm",children:e},e))}),(0,a.jsx)("div",{className:"grid sm:grid-cols-2 gap-6",children:l.length>0?l.map(e=>(0,a.jsx)(b,{recipe:e},e.id)):(0,a.jsx)("div",{className:"col-span-full py-20 text-center border-2 border-dashed rounded-3xl",children:(0,a.jsx)("p",{className:"text-slate-400",children:"No recipes match your current ingredients. Try scanning more items!"})})})]})}var F=s(15885);function z(){let[e,t]=(0,h.useState)("trending"),{trending:s,loading:x,error:p,refresh:v,fetchMore:j,hasMore:k,setFilters:N,stats:w}=function(e={}){let{autoFetch:t=!0,initialParams:s={}}=e,[a,l]=(0,h.useState)(null),[r,i]=(0,h.useState)(!1),[n,d]=(0,h.useState)(null),[c,o]=(0,h.useState)(s),x=(0,h.useCallback)(async e=>{try{i(!0),d(null);let t=await F.api.getTrendingRecipes(e||c);l(t)}catch(e){console.error("[useTrendingRecipes] Failed to fetch trending:",e),d(e instanceof Error?e:Error("Failed to fetch trending recipes"))}finally{i(!1)}},[c]);(0,h.useEffect)(()=>{t&&x()},[t,x]);let u=(0,h.useCallback)(e=>{o(t=>({...t,...e,page:1}))},[]);(0,h.useEffect)(()=>{t&&Object.keys(c).length>0&&x(c)},[c,t,x]);let m=(0,h.useCallback)(async()=>{if(!a||r)return;let e=(a.page||1)+1;if(a.trending.length<a.total)try{i(!0);let t=await F.api.getTrendingRecipes({...c,page:e});l(e=>({...t,trending:[...e?.trending||[],...t.trending]}))}catch(e){console.error("[useTrendingRecipes] Failed to fetch more:",e),d(e instanceof Error?e:Error("Failed to fetch more recipes"))}finally{i(!1)}},[a,r,c]),g=(0,h.useCallback)(e=>e.recipe?e.recipe:e.external_recipe?e.external_recipe:null,[]),p=(0,h.useMemo)(()=>a?.trending.filter(e=>"user"===e.source)||[],[a]),f=(0,h.useMemo)(()=>a?.trending.filter(e=>"external"===e.source)||[],[a]),b=(0,h.useMemo)(()=>({totalTrending:a?.total||0,userCount:p.length,externalCount:f.length,topCuisine:a?.trending[0]?.cuisine||null,topDifficulty:a?.trending[0]?.difficulty||null}),[a,p,f]),v=(0,h.useMemo)(()=>(a?.trending.length||0)<(a?.total||0),[a]);return{trending:a?.trending||[],total:a?.total||0,page:a?.page||1,limit:a?.limit||20,message:a?.message,loading:r,error:n,refresh:x,fetchMore:m,hasMore:v,setFilters:u,params:c,getRecipeFromTrending:g,userRecipes:p,externalRecipes:f,stats:b}}({autoFetch:!0,initialParams:{limit:12,include_external:!0}}),[_,C]=(0,h.useState)(""),[S,z]=(0,h.useState)(""),[E,M]=(0,h.useState)([]),[R,T]=(0,h.useState)(!1),[I,D]=(0,h.useState)(!1),[L,q]=(0,h.useState)(!1),[B,P]=(0,h.useState)([]),[Z,O]=(0,h.useState)(!0),[Q,H]=(0,h.useState)(0),[V,G]=(0,h.useState)({page:1,limit:20,sort_by:"created_at",sort_order:"desc"}),J=(0,h.useCallback)(()=>{N({cuisine:_||void 0,difficulty:S,include_external:!0,limit:12})},[_,S,N]);(0,h.useEffect)(()=>{J()},[J]);let K=(0,h.useCallback)(async()=>{T(!0);try{let e=await F.api.getIngredients();if(q(e.length>0),e.length>0){let t=await F.api.getRecipes(e.map(e=>e.id));M(t)}}catch(e){console.error("Failed to load recipes:",e)}finally{T(!1)}},[]),W=(0,h.useCallback)(async()=>{O(!0);try{let e=await F.api.browseRecipes(V),t=e?.recipes||[],s=e?.total||0;1===V.page?P(t):P(e=>[...e,...t]),H(s)}catch(e){console.error("Failed to browse recipes:",e),1===V.page&&(P([]),H(0))}finally{O(!1)}},[V]);(0,h.useEffect)(()=>{"for-you"!==e||0!==E.length||R||K()},[e,E.length,R,K]),(0,h.useEffect)(()=>{"browse"===e&&W()},[e,V,W]);let X=async()=>{D(!0);try{let e=await F.api.getIngredients(),t=await F.api.getRecipes(e.map(e=>e.id));M(t)}catch(e){console.error("Failed to generate recipes:",e)}finally{D(!1)}},Y=B.length<Q;return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-black",children:"Recipes"}),(0,a.jsx)("p",{className:"text-slate-500",children:"for-you"===e?"AI-powered recipes based on your pantry":"Browse our recipe collection"})]}),(0,a.jsx)(u(),{href:"/recipes/new",children:(0,a.jsxs)(y.$,{children:[(0,a.jsx)(l.A,{className:"w-4 h-4 mr-2"}),"Add Recipe"]})})]}),(0,a.jsxs)("div",{className:"flex gap-2 border-b border-slate-200 dark:border-slate-700",children:[(0,a.jsxs)("button",{onClick:()=>t("trending"),className:`flex items-center gap-2 px-4 py-3 font-medium text-sm border-b-2 transition-colors ${"trending"===e?"border-orange-500 text-orange-600 dark:text-orange-400":"border-transparent text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[(0,a.jsx)(r.A,{className:"w-4 h-4"}),"Trending"]}),(0,a.jsxs)("button",{onClick:()=>t("browse"),className:`flex items-center gap-2 px-4 py-3 font-medium text-sm border-b-2 transition-colors ${"browse"===e?"border-orange-500 text-orange-600 dark:text-orange-400":"border-transparent text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[(0,a.jsx)(i.A,{className:"w-4 h-4"}),"Browse All"]}),(0,a.jsxs)("button",{onClick:()=>t("for-you"),className:`flex items-center gap-2 px-4 py-3 font-medium text-sm border-b-2 transition-colors ${"for-you"===e?"border-orange-500 text-orange-600 dark:text-orange-400":"border-transparent text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[(0,a.jsx)(n.A,{className:"w-4 h-4"}),"For You"]})]}),"trending"===e?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-3 items-center",children:[(0,a.jsxs)("select",{value:_,onChange:e=>C(e.target.value),className:"px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-sm",children:[(0,a.jsx)("option",{value:"",children:"All Cuisines"}),(0,a.jsx)("option",{value:"italian",children:"Italian"}),(0,a.jsx)("option",{value:"mexican",children:"Mexican"}),(0,a.jsx)("option",{value:"chinese",children:"Chinese"}),(0,a.jsx)("option",{value:"indian",children:"Indian"}),(0,a.jsx)("option",{value:"japanese",children:"Japanese"}),(0,a.jsx)("option",{value:"thai",children:"Thai"}),(0,a.jsx)("option",{value:"american",children:"American"}),(0,a.jsx)("option",{value:"french",children:"French"})]}),(0,a.jsxs)("select",{value:S,onChange:e=>z(e.target.value),className:"px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-sm",children:[(0,a.jsx)("option",{value:"",children:"All Difficulties"}),(0,a.jsx)("option",{value:"easy",children:"Easy"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"hard",children:"Hard"})]}),(0,a.jsx)(y.$,{variant:"ghost",size:"sm",onClick:()=>v(),disabled:x,children:"Refresh"}),(0,a.jsxs)("span",{className:"text-sm text-slate-500 ml-auto",children:[w.totalTrending," trending recipes"]})]}),x&&0===s.length?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsx)(g.k,{size:"lg",text:"Loading trending recipes..."})}):s.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map((e,t)=>{let s=e.recipe||e.external_recipe;if(!s)return null;let l="external"===e.source,i=s.image_url||"/placeholder-recipe.jpg";return(0,a.jsxs)(f.Zp,{className:"overflow-hidden hover:shadow-lg transition-shadow group",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"absolute top-2 left-2 z-10 bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[(0,a.jsx)(r.A,{className:"w-3 h-3"}),"#",e.rank_position]}),l&&(0,a.jsxs)("div",{className:"absolute top-2 right-2 z-10 bg-blue-500 text-white px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[(0,a.jsx)(d.A,{className:"w-3 h-3"}),e.external_recipe?.source||"External"]}),(0,a.jsx)("div",{className:"aspect-video bg-slate-200 dark:bg-slate-700 relative overflow-hidden",children:i&&(0,a.jsx)(m.default,{src:i,alt:s.title,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300",sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"})})]}),(0,a.jsxs)("div",{className:"p-4 space-y-2",children:[(0,a.jsx)("h3",{className:"font-bold text-slate-900 dark:text-white line-clamp-2",children:s.title}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[e.cuisine&&(0,a.jsx)("span",{className:"capitalize",children:e.cuisine}),e.difficulty&&(0,a.jsx)("span",{className:`px-2 py-0.5 rounded-full ${"easy"===e.difficulty?"bg-green-100 text-green-700 dark:bg-green-500/20 dark:text-green-400":"medium"===e.difficulty?"bg-yellow-100 text-yellow-700 dark:bg-yellow-500/20 dark:text-yellow-400":"bg-red-100 text-red-700 dark:bg-red-500/20 dark:text-red-400"}`,children:e.difficulty}),s.cook_time_minutes&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(c.A,{className:"w-3 h-3"}),s.cook_time_minutes,"m"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-slate-400 pt-2 border-t border-slate-100 dark:border-slate-700",children:[e.cooked_count>0&&(0,a.jsxs)("span",{children:[e.cooked_count," cooked"]}),e.liked_count>0&&(0,a.jsxs)("span",{children:[e.liked_count," likes"]}),e.avg_rating&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(o.A,{className:"w-3 h-3 text-yellow-500"}),e.avg_rating.toFixed(1)]}),(0,a.jsxs)("span",{className:"ml-auto text-orange-500 font-medium",children:["Score: ",Math.round(e.trend_score)]})]}),!l&&e.recipe&&(0,a.jsx)(u(),{href:`/cook/${e.recipe.id}`,className:"block pt-2",children:(0,a.jsx)(y.$,{className:"w-full",size:"sm",children:"Start Cooking"})}),l&&e.external_recipe&&e.external_recipe.source_url&&(0,a.jsx)("a",{href:e.external_recipe.source_url,target:"_blank",rel:"noopener noreferrer",className:"block pt-2",children:(0,a.jsxs)(y.$,{variant:"outline",className:"w-full",size:"sm",children:[(0,a.jsx)(d.A,{className:"w-3 h-3 mr-2"}),"View Recipe"]})})]})]},e.id)})}),k&&(0,a.jsx)("div",{className:"text-center pt-4",children:(0,a.jsx)(y.$,{variant:"outline",onClick:j,disabled:x,className:"rounded-full px-8",children:x?"Loading...":"Load More"})})]}):(0,a.jsx)("div",{className:"text-center py-20 border-2 border-dashed rounded-3xl",children:(0,a.jsxs)("div",{className:"max-w-sm mx-auto space-y-4",children:[(0,a.jsx)(r.A,{className:"w-12 h-12 mx-auto text-slate-300"}),(0,a.jsx)("h3",{className:"text-xl font-bold",children:"No trending recipes yet"}),(0,a.jsx)("p",{className:"text-slate-500",children:"Trending recipes are calculated from community activity. Check back soon!"}),(0,a.jsx)(y.$,{onClick:()=>v(),children:"Refresh"})]})})]}):"browse"===e?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(A,{filters:V,onFiltersChange:e=>{G(e)},onSearch:()=>{G(e=>({...e,page:1}))},isLoading:Z,totalResults:Q}),Z&&1===V.page?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsx)(g.k,{size:"lg",text:"Loading recipes..."})}):B.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid sm:grid-cols-2 gap-6",children:B.map(e=>(0,a.jsx)(b,{recipe:e},e.id))}),Y&&(0,a.jsx)("div",{className:"text-center pt-4",children:(0,a.jsx)(y.$,{variant:"outline",onClick:()=>{G(e=>({...e,page:(e.page||1)+1}))},disabled:Z,className:"rounded-full px-8",children:Z?"Loading...":"Load More"})})]}):(0,a.jsx)("div",{className:"text-center py-20 border-2 border-dashed rounded-3xl",children:(0,a.jsxs)("div",{className:"max-w-sm mx-auto space-y-4",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"No recipes found"}),(0,a.jsx)("p",{className:"text-slate-500",children:"Try adjusting your search or filters to find more recipes."}),(0,a.jsx)(y.$,{variant:"outline",onClick:()=>G({page:1,limit:20,sort_by:"created_at",sort_order:"desc"}),children:"Clear Filters"})]})})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Personalized suggestions based on your scanned ingredients"}),(0,a.jsxs)(y.$,{variant:"outline",onClick:X,disabled:I||!L,size:"sm",children:[(0,a.jsx)(n.A,{className:"w-4 h-4 mr-2"}),I?"Generating...":"Refresh"]})]}),R?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsx)(g.k,{size:"lg",text:"Finding recipes for you..."})}):E.length>0?(0,a.jsx)($,{recipes:E}):(0,a.jsx)("div",{className:"text-center py-20 border-2 border-dashed rounded-3xl",children:(0,a.jsxs)("div",{className:"max-w-sm mx-auto space-y-4",children:[(0,a.jsx)(n.A,{className:"w-12 h-12 mx-auto text-slate-300"}),(0,a.jsx)("h3",{className:"text-xl font-bold",children:"No personalized recipes yet"}),(0,a.jsx)("p",{className:"text-slate-500",children:"Scan some ingredients first, then the AI will suggest personalized recipes just for you."}),(0,a.jsx)(u(),{href:"/scan",children:(0,a.jsx)(y.$,{children:"Scan Ingredients"})})]})})]})]})}},80698:(e,t,s)=>{Promise.resolve().then(s.bind(s,75031))}},e=>{e.O(0,[9731,9631,7139,3948,9705,5885,6939,1170,7358],()=>e(e.s=80698)),_N_E=e.O()}]);