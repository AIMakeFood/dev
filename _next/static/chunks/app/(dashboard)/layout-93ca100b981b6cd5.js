(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9305],{13489:(e,t,a)=>{Promise.resolve().then(a.bind(a,33101))},33101:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eq});var s=a(55155),r=a(50497),l=a(21555),n=a(90616);function i(){let{demoMode:e,setDemoMode:t}=(0,n.z)(),a=(0,l.useRef)([]),r=(0,l.useCallback)(()=>{let s=Date.now();a.current.push(s),a.current=a.current.filter(e=>s-e<600),a.current.length>=3&&(t(!e),a.current=[])},[e,t]);return(0,s.jsx)("button",{type:"button",onClick:r,className:"fixed top-3 right-3 z-50 w-3 h-3 rounded-full focus:outline-none","aria-label":"Toggle mode",style:{opacity:+!!e},children:e&&(0,s.jsx)("span",{className:"block w-3 h-3 bg-purple-500 rounded-full animate-pulse"})})}var o=a(67649),d=a(88102),c=a(25990),x=a(33971),m=a(57809);class h extends l.Component{constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.handleGoHome=()=>{window.location.href="/"},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({errorInfo:t}),this.props.onError?.(e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,s.jsx)("div",{className:"min-h-[400px] flex items-center justify-center p-8",children:(0,s.jsxs)(m.Zp,{className:"max-w-md w-full p-6 text-center",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:(0,s.jsx)(o.A,{className:"w-8 h-8 text-red-500"})})}),(0,s.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Something went wrong"}),(0,s.jsx)("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"We encountered an unexpected error. Please try again or return to the home page."}),!1,(0,s.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,s.jsxs)(x.$,{variant:"outline",onClick:this.handleGoHome,className:"flex items-center gap-2",children:[(0,s.jsx)(d.A,{className:"w-4 h-4"}),"Go Home"]}),(0,s.jsxs)(x.$,{onClick:this.handleReset,className:"flex items-center gap-2",children:[(0,s.jsx)(c.A,{className:"w-4 h-4"}),"Try Again"]})]})]})}):this.props.children}}var u=a(31345),g=a(3857),b=a(3948),p=a.n(b);function f(){return(0,s.jsxs)("footer",{className:"bg-white dark:bg-slate-950 border-t border-slate-200 dark:border-slate-800 py-12 px-6 mb-16 md:mb-0",children:[(0,s.jsxs)("div",{className:"max-w-7xl mx-auto grid md:grid-cols-4 gap-8",children:[(0,s.jsxs)("div",{className:"col-span-2 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-teal-500 rounded-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xl",children:"\uD83C\uDF73"})}),(0,s.jsxs)("span",{className:"font-bold text-lg tracking-tight",children:[(0,s.jsx)("span",{className:"text-orange-500",children:"AI"}),(0,s.jsx)("span",{className:"text-slate-900 dark:text-white",children:"MakeFood"})]})]}),(0,s.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 max-w-xs",children:"The world's first autonomous AI cooking assistant. Revolutionizing the kitchen with multimodal intelligence."})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h4",{className:"font-bold text-sm uppercase tracking-widest text-slate-900 dark:text-white",children:"Platform"}),(0,s.jsxs)("ul",{className:"space-y-2 text-sm font-medium text-slate-600 dark:text-slate-400",children:[(0,s.jsx)("li",{children:(0,s.jsx)(p(),{href:"/pricing",className:"hover:text-orange-500 dark:hover:text-orange-400",children:"Pricing"})}),(0,s.jsx)("li",{children:(0,s.jsx)(p(),{href:"/scan",className:"hover:text-orange-500 dark:hover:text-orange-400",children:"Pantry Scan"})}),(0,s.jsx)("li",{children:(0,s.jsx)(p(),{href:"/history",className:"hover:text-orange-500 dark:hover:text-orange-400",children:"Meal History"})})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h4",{className:"font-bold text-sm uppercase tracking-widest text-slate-900 dark:text-white",children:"Connect"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(p(),{href:"#",className:"p-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-full hover:bg-orange-100 dark:hover:bg-orange-950 hover:text-orange-500 dark:hover:text-orange-400 transition-colors",children:(0,s.jsx)(u.A,{className:"w-4 h-4"})}),(0,s.jsx)(p(),{href:"#",className:"p-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-full hover:bg-orange-100 dark:hover:bg-orange-950 hover:text-orange-500 dark:hover:text-orange-400 transition-colors",children:(0,s.jsx)(g.A,{className:"w-4 h-4"})})]})]})]}),(0,s.jsx)("div",{className:"max-w-7xl mx-auto mt-12 pt-8 border-t border-slate-200 dark:border-slate-800 text-center text-xs text-slate-600 dark:text-slate-400",children:"\xa9 2026 AIMakeFood. Built with Gemini 3 Multimodal. All rights reserved."})]})}var k=a(792),j=a(9667),v=a(85628),w=a(18546),N=a(13220),y=a(16622),A=a(75686),S=a(70705),C=a(30382),I=a(48345),E=a(45074),_=a(66141),H=a(10160),F=a(97475),P=a(97114),M=a(26219),z=a(66707),D=a(22951),$=a(62649),L=a(86231),T=a(5762),R=a(7353),q=a(44746),O=a(48049);let W=(0,l.createContext)(void 0),U="sidepanel-collapsed";function G({children:e}){let[t,a]=(0,l.useState)(!1),[r,n]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=localStorage.getItem(U);null!==e&&a("true"===e)},[]),(0,l.useEffect)(()=>{let e=()=>{window.innerWidth>=768&&n(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let i=(0,l.useCallback)(()=>{a(e=>{let t=!e;return localStorage.setItem(U,String(t)),t})},[]),o=(0,l.useCallback)(e=>{a(e),localStorage.setItem(U,String(e))},[]),d=(0,l.useCallback)(()=>n(!0),[]),c=(0,l.useCallback)(()=>n(!1),[]),x=(0,l.useCallback)(()=>n(e=>!e),[]);return(0,s.jsx)(W.Provider,{value:{isCollapsed:t,isMobileOpen:r,toggleCollapsed:i,setCollapsed:o,openMobile:d,closeMobile:c,toggleMobile:x},children:e})}function K(){let e=(0,l.useContext)(W);if(!e)throw Error("useSidePanel must be used within SidePanelProvider");return e}var V=a(31616);function B({href:e,label:t,icon:a,onClick:l}){let n=(0,r.usePathname)(),{isCollapsed:i,closeMobile:o}=K(),d=n===e;return(0,s.jsxs)(p(),{href:e,onClick:()=>{o(),l?.()},className:(0,V.cn)("flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-200","hover:bg-slate-100 dark:hover:bg-slate-800",d&&"bg-orange-50 dark:bg-orange-950/50 text-orange-600 dark:text-orange-400",!d&&"text-slate-600 dark:text-slate-400",i&&"justify-center px-2"),title:i?t:void 0,children:[(0,s.jsx)(a,{className:(0,V.cn)("w-5 h-5 shrink-0",d&&"text-orange-500")}),!i&&(0,s.jsx)("span",{className:(0,V.cn)("font-medium text-sm",d&&"text-orange-600 dark:text-orange-400"),children:t})]})}function J({label:e,icon:t,onClick:a,variant:r="default"}){let{isCollapsed:l,closeMobile:n}=K();return(0,s.jsxs)("button",{onClick:()=>{n(),a()},className:(0,V.cn)("flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-200 w-full","default"===r&&"hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400","danger"===r&&"hover:bg-red-50 dark:hover:bg-red-950/30 text-slate-600 dark:text-slate-400 hover:text-red-600 dark:hover:text-red-400",l&&"justify-center px-2"),title:l?e:void 0,children:[(0,s.jsx)(t,{className:"w-5 h-5 shrink-0"}),!l&&(0,s.jsx)("span",{className:"font-medium text-sm",children:e})]})}var Q=a(47711),X=a(72384),Z=a(39310),Y=a(94999);function ee({className:e,showLabel:t=!1}){let{scannerEnabled:a,isScanning:r,activeHazards:n,toggleScanner:i,enableScanner:o,disableScanner:d}=(0,Y.y4)(),[c,x]=(0,l.useState)(!1),m=(0,l.useCallback)(()=>{i()},[i]),h=n.length>0,u=n.some(e=>"critical"===e.severity||"safety"===e.severity),g=a?u||h?X.A:Z.A:Q.A,b=()=>a?u?"text-red-500 dark:text-red-400 animate-pulse":h?"text-amber-500 dark:text-amber-400":"text-emerald-500 dark:text-emerald-400":"text-slate-400 dark:text-slate-600",p=()=>a?u?`Safety Alert! ${n.length} hazard${n.length>1?"s":""} detected`:h?`Warning: ${n.length} issue${n.length>1?"s":""} detected`:r?"Safety Scanner: Active":"Safety Scanner: ON (Standby)":"Safety Scanner: OFF";return(0,s.jsxs)("div",{className:(0,V.cn)("relative",e),children:[(0,s.jsxs)("button",{onClick:m,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),className:(0,V.cn)("flex items-center gap-2 px-2.5 py-1.5 rounded-xl transition-all duration-200",a?u?"bg-red-50 dark:bg-red-950/30 hover:bg-red-100 dark:hover:bg-red-950/50":h?"bg-amber-50 dark:bg-amber-950/30 hover:bg-amber-100 dark:hover:bg-amber-950/50":"bg-emerald-50 dark:bg-emerald-950/30 hover:bg-emerald-100 dark:hover:bg-emerald-950/50":"hover:bg-slate-100 dark:hover:bg-slate-800","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 dark:focus:ring-offset-slate-900"),"aria-label":p(),title:p(),children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(g,{className:(0,V.cn)("w-5 h-5 transition-colors",b())}),a&&r&&(0,s.jsxs)("span",{className:"absolute -top-0.5 -right-0.5 w-2 h-2",children:[(0,s.jsx)("span",{className:"absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75 animate-ping"}),(0,s.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),a&&h&&(0,s.jsx)("span",{className:(0,V.cn)("absolute -top-1 -right-1 min-w-[16px] h-4 px-1 text-[10px] font-bold rounded-full flex items-center justify-center",u?"bg-red-500 text-white":"bg-amber-500 text-white"),children:n.length})]}),t&&(0,s.jsx)("span",{className:(0,V.cn)("text-sm font-medium transition-colors hidden sm:block",b()),children:a?"Safety ON":"Safety OFF"})]}),c&&(0,s.jsxs)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 px-3 py-1.5 bg-slate-900 dark:bg-slate-700 text-white text-xs rounded-lg whitespace-nowrap z-50 shadow-lg",children:[p(),(0,s.jsx)("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-slate-900 dark:bg-slate-700 rotate-45"})]})]})}function et({isCollapsed:e=!1}){let{scannerEnabled:t,isScanning:a,activeHazards:r,toggleScanner:l,isPausedForScan:n}=(0,Y.y4)(),i=r.length>0,o=r.some(e=>"critical"===e.severity),d=t?o||i?X.A:Z.A:Q.A,c=()=>n?"Paused for Scan":t?o?`${r.length} Alert${r.length>1?"s":""}`:i?`${r.length} Warning${r.length>1?"s":""}`:a?"Scanning...":"Safety ON":"Safety OFF",x=()=>n?"text-blue-500 dark:text-blue-400":t?o?"text-red-500 dark:text-red-400":i?"text-amber-500 dark:text-amber-400":"text-emerald-500 dark:text-emerald-400":"text-slate-400 dark:text-slate-500";return(0,s.jsxs)("button",{onClick:l,disabled:n,className:(0,V.cn)("w-full flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-200",n?"bg-blue-50 dark:bg-blue-950/30 hover:bg-blue-100 dark:hover:bg-blue-950/50":t?o?"bg-red-50 dark:bg-red-950/30 hover:bg-red-100 dark:hover:bg-red-950/50":i?"bg-amber-50 dark:bg-amber-950/30 hover:bg-amber-100 dark:hover:bg-amber-950/50":"bg-emerald-50 dark:bg-emerald-950/30 hover:bg-emerald-100 dark:hover:bg-emerald-950/50":"bg-slate-50 dark:bg-slate-800/50 hover:bg-slate-100 dark:hover:bg-slate-800",n&&"opacity-75 cursor-not-allowed",e&&"justify-center px-2"),title:n?"Safety paused during ingredient scan":c(),children:[(0,s.jsxs)("div",{className:"relative shrink-0",children:[(0,s.jsx)(d,{className:(0,V.cn)("w-5 h-5 transition-colors",x())}),t&&a&&!n&&(0,s.jsxs)("span",{className:"absolute -top-0.5 -right-0.5 w-2 h-2",children:[(0,s.jsx)("span",{className:"absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75 animate-ping"}),(0,s.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),t&&i&&!n&&(0,s.jsx)("span",{className:(0,V.cn)("absolute -top-1 -right-1 min-w-[14px] h-3.5 px-1 text-[9px] font-bold rounded-full flex items-center justify-center",o?"bg-red-500 text-white":"bg-amber-500 text-white"),children:r.length})]}),!e&&(0,s.jsxs)("div",{className:"flex flex-col items-start min-w-0",children:[(0,s.jsx)("span",{className:(0,V.cn)("text-sm font-medium truncate",x()),children:c()}),(0,s.jsx)("span",{className:"text-[10px] text-slate-400 dark:text-slate-500",children:n?"Scanning ingredients":"Click to toggle"})]})]})}var ea=a(69339),es=a(15885);let er=[{href:"/",label:"Dashboard",icon:C.A},{href:"/scan",label:"Scan",icon:I.A},{href:"/ingredients",label:"Ingredients",icon:E.A},{href:"/cook",label:"Cook",icon:_.A},{href:"/scans",label:"Scans",icon:H.A},{href:"/recipes",label:"Recipes",icon:F.A},{href:"/history",label:"History",icon:P.A},{href:"/shopping",label:"Shopping",icon:M.A},{href:"/monitor",label:"Monitor",icon:z.A}],el=[{href:"/admin",label:"Admin",icon:D.A,roles:["support","moderator","manager","admin"]},{href:"/admin/tickets",label:"Tickets",icon:y.A,roles:["support","manager","admin"]},{href:"/admin/moderation",label:"Moderation",icon:D.A,roles:["moderator","manager","admin"]},{href:"/admin/users",label:"Users",icon:w.A,roles:["manager","admin"]},{href:"/admin/appeals",label:"Appeals",icon:$.A,roles:["manager","admin"]},{href:"/admin/filtered-words",label:"Word Filter",icon:L.A,roles:["support","moderator","manager","admin"]}];function en(){let e=(0,r.usePathname)(),{isCollapsed:t,isMobileOpen:a,toggleCollapsed:n,closeMobile:i}=K(),{signOut:o}=(0,ea.A)(),[d,c]=(0,l.useState)("user");(0,l.useEffect)(()=>{es.api.getProfile().then(e=>{e&&e.user_role&&c(e.user_role)})},[]),(0,l.useEffect)(()=>{i()},[e,i]);let x=el.filter(e=>{var t;return!(t=e.roles)||t.includes(d)});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("aside",{className:(0,V.cn)("hidden md:flex flex-col fixed left-0 top-0 h-screen z-40","bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800","transition-all duration-300 ease-in-out",t?"w-16":"w-64"),children:[(0,s.jsxs)("div",{className:(0,V.cn)("h-16 flex items-center border-b border-slate-200 dark:border-slate-800",t?"justify-center px-2":"px-4"),children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-teal-500 rounded-xl flex items-center justify-center shrink-0",children:(0,s.jsx)("span",{className:"text-2xl",children:"\uD83C\uDF73"})}),!t&&(0,s.jsxs)("span",{className:"ml-3 font-bold text-xl tracking-tight",children:[(0,s.jsx)("span",{className:"text-orange-500",children:"AI"}),(0,s.jsx)("span",{className:"text-slate-900 dark:text-white",children:"MakeFood"})]})]}),(0,s.jsxs)("nav",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[er.map(e=>(0,s.jsx)(B,{...e},e.href)),x.length>0&&(0,s.jsxs)(s.Fragment,{children:[!t&&(0,s.jsx)("div",{className:"pt-4 mt-4 border-t border-slate-200 dark:border-slate-700",children:(0,s.jsx)("span",{className:"px-3 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Admin"})}),t&&(0,s.jsx)("div",{className:"pt-4 mt-4 border-t border-slate-200 dark:border-slate-700"}),x.map(e=>(0,s.jsx)(B,{...e},e.href))]})]}),(0,s.jsx)("div",{className:"p-2 border-t border-slate-200 dark:border-slate-800",children:(0,s.jsx)(et,{isCollapsed:t})}),(0,s.jsx)("div",{className:"p-2 border-t border-slate-200 dark:border-slate-800",children:(0,s.jsx)(J,{label:"Logout",icon:S.A,onClick:o,variant:"danger"})}),(0,s.jsx)("button",{onClick:n,className:(0,V.cn)("absolute -right-3 top-20 w-6 h-6 rounded-full","bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700","flex items-center justify-center shadow-sm","hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors"),children:t?(0,s.jsx)(T.A,{className:"w-4 h-4 text-slate-600 dark:text-slate-400"}):(0,s.jsx)(R.A,{className:"w-4 h-4 text-slate-600 dark:text-slate-400"})})]}),a&&(0,s.jsx)("div",{className:"md:hidden fixed inset-0 bg-black/50 z-40",onClick:i}),(0,s.jsxs)("aside",{className:(0,V.cn)("md:hidden fixed left-0 top-0 h-screen w-64 z-50 flex flex-col","bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800","transition-transform duration-300 ease-in-out",a?"translate-x-0":"-translate-x-full"),children:[(0,s.jsxs)("div",{className:"h-16 flex items-center justify-between px-4 border-b border-slate-200 dark:border-slate-800",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-teal-500 rounded-xl flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-2xl",children:"\uD83C\uDF73"})}),(0,s.jsxs)("span",{className:"font-bold text-xl tracking-tight",children:[(0,s.jsx)("span",{className:"text-orange-500",children:"AI"}),(0,s.jsx)("span",{className:"text-slate-900 dark:text-white",children:"MakeFood"})]})]}),(0,s.jsx)("button",{onClick:i,className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800",children:(0,s.jsx)(q.A,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})})]}),(0,s.jsxs)("nav",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[er.map(e=>(0,s.jsx)(B,{...e},e.href)),x.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"pt-4 mt-4 border-t border-slate-200 dark:border-slate-700",children:(0,s.jsx)("span",{className:"px-3 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Admin"})}),x.map(e=>(0,s.jsx)(B,{...e},e.href))]})]}),(0,s.jsx)("div",{className:"p-2 border-t border-slate-200 dark:border-slate-800",children:(0,s.jsx)(et,{isCollapsed:!1})}),(0,s.jsx)("div",{className:"p-2 border-t border-slate-200 dark:border-slate-800",children:(0,s.jsx)(J,{label:"Logout",icon:S.A,onClick:o,variant:"danger"})})]})]})}function ei(){let{openMobile:e}=K();return(0,s.jsx)("button",{onClick:e,className:"md:hidden p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800",children:(0,s.jsx)(O.A,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})})}var eo=a(88324),ed=a(95382),ec=a(77636),ex=a(64119),em=a(58039),eh=a(47963);let eu={moderation_approved:D.A,moderation_rejected:D.A,new_follower:eo.A,post_liked:ed.A,new_comment:ec.A},eg={moderation_approved:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",moderation_rejected:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",new_follower:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400",post_liked:"bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",new_comment:"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400"};function eb({notification:e,onMarkAsRead:t}){let a,r,l,n,i=eu[e.type]||ex.A,o=eg[e.type]||"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400";return(0,s.jsxs)(p(),{href:(()=>{let t=e.data;switch(e.type){case"post_liked":case"new_comment":case"moderation_approved":case"moderation_rejected":return t?.post_id?`/community/post/${t.post_id}`:"/community";case"new_follower":return t?.follower_id?`/community/user/${t.follower_id}`:"/community";default:return"/notifications"}})(),onClick:()=>{e.is_read||t(e.id)},className:(0,V.cn)("flex items-start gap-3 p-3 rounded-lg transition-colors","hover:bg-slate-50 dark:hover:bg-slate-800",!e.is_read&&"bg-orange-50/50 dark:bg-orange-950/20"),children:[(0,s.jsx)("div",{className:(0,V.cn)("p-2 rounded-lg shrink-0",o),children:(0,s.jsx)(i,{className:"w-4 h-4"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:(0,V.cn)("text-sm line-clamp-2",e.is_read?"text-slate-600 dark:text-slate-400":"text-slate-900 dark:text-white font-medium"),children:e.message}),(0,s.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:(a=new Date(e.created_at),n=Math.floor((l=Math.floor((r=Math.floor((new Date().getTime()-a.getTime())/6e4))/60))/24),r<1?"Just now":r<60?`${r}m ago`:l<24?`${l}h ago`:n<7?`${n}d ago`:a.toLocaleDateString())})]}),!e.is_read&&(0,s.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full shrink-0 mt-2"})]})}function ep(){let[e,t]=(0,l.useState)(!1),a=(0,l.useRef)(null),{notifications:r,unreadCount:n,loading:i,markAsRead:o,markAllAsRead:d}=(0,eh.E)({limit:10,autoRefresh:!0,refreshInterval:3e4});return(0,l.useEffect)(()=>{function e(e){a.current&&!a.current.contains(e.target)&&t(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,s.jsxs)("div",{className:"relative",ref:a,children:[(0,s.jsxs)(x.$,{variant:"ghost",size:"icon",onClick:()=>t(!e),className:(0,V.cn)("relative text-slate-600 dark:text-slate-400",e&&"bg-slate-100 dark:bg-slate-800"),children:[(0,s.jsx)(ex.A,{className:"w-5 h-5"}),n>0&&(0,s.jsx)("span",{className:"absolute -top-0.5 -right-0.5 w-5 h-5 bg-orange-500 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-[10px] font-bold text-white",children:n>9?"9+":n})})]}),e&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-80 sm:w-96 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg z-50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-200 dark:border-slate-700",children:[(0,s.jsx)("h3",{className:"font-semibold text-slate-900 dark:text-white",children:"Notifications"}),n>0&&(0,s.jsxs)("button",{onClick:d,className:"flex items-center gap-1 text-xs text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 font-medium",children:[(0,s.jsx)(em.A,{className:"w-3.5 h-3.5"}),"Mark all read"]})]}),(0,s.jsx)("div",{className:"max-h-[400px] overflow-y-auto",children:i&&0===r.length?(0,s.jsxs)("div",{className:"p-8 text-center",children:[(0,s.jsx)("div",{className:"animate-spin w-6 h-6 border-2 border-orange-500 border-t-transparent rounded-full mx-auto"}),(0,s.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:"Loading..."})]}):0===r.length?(0,s.jsxs)("div",{className:"p-8 text-center",children:[(0,s.jsx)(ex.A,{className:"w-10 h-10 text-slate-300 dark:text-slate-600 mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"No notifications yet"})]}):(0,s.jsx)("div",{className:"p-2 space-y-1",children:r.map(e=>(0,s.jsx)(eb,{notification:e,onMarkAsRead:o},e.id))})}),(0,s.jsx)("div",{className:"border-t border-slate-200 dark:border-slate-700 p-2",children:(0,s.jsx)(p(),{href:"/notifications",onClick:()=>t(!1),className:"block w-full py-2 text-center text-sm font-medium text-orange-600 dark:text-orange-400 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg transition-colors",children:"View all notifications"})})]})]})}var ef=a(53612),ek=a(69207),ej=a(67996),ev=a(76250);function ew(){let{theme:e,setTheme:t}=(0,ev.D)(),a=[{value:"light",icon:ef.A,label:"Light"},{value:"dark",icon:ek.A,label:"Dark"},{value:"system",icon:ej.A,label:"System"}];return(0,s.jsx)("div",{className:"flex items-center gap-1 p-1 bg-slate-100 dark:bg-slate-800 rounded-xl",children:a.map(({value:a,icon:r,label:l})=>(0,s.jsx)("button",{onClick:()=>t(a),className:`
            flex items-center justify-center p-2 rounded-lg
            transition-colors
            ${e===a?"bg-white dark:bg-slate-700 text-orange-500 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white"}
          `,"aria-label":`Switch to ${l} theme`,title:l,children:(0,s.jsx)(r,{className:"w-4 h-4"})},a))})}function eN(){let{authenticated:e,signOut:t}=(0,ea.A)(),[a,r]=(0,l.useState)(null),[n,i]=(0,l.useState)(!1),o=(0,l.useRef)(null);if((0,l.useEffect)(()=>{e&&es.api.getProfile().then(r)},[e]),(0,l.useEffect)(()=>{function e(e){o.current&&!o.current.contains(e.target)&&i(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),!e)return(0,s.jsx)("header",{className:"sticky top-0 z-30 w-full border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-950/80 backdrop-blur-xl",children:(0,s.jsxs)("div",{className:"flex h-16 items-center justify-between px-4",children:[(0,s.jsxs)(p(),{href:"/",className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-teal-500 rounded-xl flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-2xl",children:"\uD83C\uDF73"})}),(0,s.jsxs)("span",{className:"font-bold text-xl tracking-tight",children:[(0,s.jsx)("span",{className:"text-orange-500",children:"AI"}),(0,s.jsx)("span",{className:"text-slate-900 dark:text-white",children:"MakeFood"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(p(),{href:"/login",className:"px-4 py-2 text-slate-700 dark:text-slate-300 hover:text-orange-500 dark:hover:text-orange-400 font-medium transition-colors",children:"Sign In"}),(0,s.jsx)(p(),{href:"/signup",className:"px-5 py-2 bg-gradient-to-r from-orange-500 to-teal-500 text-white rounded-full font-medium hover:shadow-lg hover:shadow-orange-500/25 transition-all hover:scale-105",children:"Sign Up"})]})]})});let d=a?.display_name?.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)||"U";return(0,s.jsx)("header",{className:"sticky top-0 z-30 w-full border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-950/80 backdrop-blur-xl",children:(0,s.jsxs)("div",{className:"flex h-16 items-center justify-between px-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(ei,{}),(0,s.jsxs)(p(),{href:"/",className:"flex items-center gap-2 md:hidden",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-teal-500 rounded-xl flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-2xl",children:"\uD83C\uDF73"})}),(0,s.jsxs)("span",{className:"font-bold text-xl tracking-tight",children:[(0,s.jsx)("span",{className:"text-orange-500",children:"AI"}),(0,s.jsx)("span",{className:"text-slate-900 dark:text-white",children:"MakeFood"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(ee,{}),(0,s.jsx)(ep,{}),(0,s.jsxs)("div",{className:"relative",ref:o,children:[(0,s.jsxs)("button",{onClick:()=>i(!n),className:(0,V.cn)("flex items-center gap-2 px-2 py-1.5 rounded-xl transition-colors","hover:bg-slate-100 dark:hover:bg-slate-800",n&&"bg-slate-100 dark:bg-slate-800"),children:[a?.avatar_url?(0,s.jsx)("img",{src:a.avatar_url,alt:a.display_name||"User",className:"w-8 h-8 rounded-full object-cover"}):(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-orange-400 to-teal-400 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-sm font-semibold text-white",children:d})}),(0,s.jsx)("span",{className:"hidden sm:block text-sm font-medium text-slate-700 dark:text-slate-300 max-w-[120px] truncate",children:a?.display_name||"User"}),(0,s.jsx)(k.A,{className:(0,V.cn)("w-4 h-4 text-slate-500 transition-transform",n&&"rotate-180")})]}),n&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-56 max-h-[80vh] overflow-y-auto bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg py-1 z-50",children:[(0,s.jsxs)("div",{className:"px-4 py-3 border-b border-slate-200 dark:border-slate-700",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:a?.display_name||"User"}),(0,s.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:a?.email}),a?.level!==void 0&&(0,s.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 px-2 py-0.5 rounded-full font-medium",children:["Level ",a.level]}),(0,s.jsxs)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:[a.xp," XP"]})]})]}),(0,s.jsx)("div",{className:"px-4 py-2 border-b border-slate-200 dark:border-slate-700",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Theme"}),(0,s.jsx)(ew,{})]})}),(0,s.jsxs)("div",{className:"py-1",children:[(0,s.jsxs)(p(),{href:"/settings",onClick:()=>i(!1),className:"flex items-center gap-3 px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800",children:[(0,s.jsx)(j.A,{className:"w-4 h-4"}),"Settings"]}),(0,s.jsxs)(p(),{href:"/settings/subscription",onClick:()=>i(!1),className:"flex items-center gap-3 px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800",children:[(0,s.jsx)(v.A,{className:"w-4 h-4"}),"Subscription"]}),(0,s.jsxs)(p(),{href:"/community",onClick:()=>i(!1),className:"flex items-center gap-3 px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800",children:[(0,s.jsx)(w.A,{className:"w-4 h-4"}),"Chef's Table"]}),(0,s.jsxs)(p(),{href:"/invite",onClick:()=>i(!1),className:"flex items-center gap-3 px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800",children:[(0,s.jsx)(N.A,{className:"w-4 h-4"}),"Invite Friends"]}),(0,s.jsxs)(p(),{href:"/support",onClick:()=>i(!1),className:"flex items-center gap-3 px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800",children:[(0,s.jsx)(y.A,{className:"w-4 h-4"}),"Support"]}),(0,s.jsxs)(p(),{href:"/about",onClick:()=>i(!1),className:"flex items-center gap-3 px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800",children:[(0,s.jsx)(A.A,{className:"w-4 h-4"}),"About"]})]}),(0,s.jsx)("div",{className:"border-t border-slate-200 dark:border-slate-700 py-1",children:(0,s.jsxs)("button",{onClick:()=>{i(!1),t()},className:"flex items-center gap-3 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950/30 w-full",children:[(0,s.jsx)(S.A,{className:"w-4 h-4"}),"Logout"]})})]})]})]})]})})}var ey=a(15749),eA=a(73675),eS=a(47665),eC=a(50433),eI=a(57541),eE=a(50536),e_=a(95868);let eH="aimakefood_helpbot_messages",eF=()=>`${Date.now()}-${Math.random().toString(36).slice(2,9)}`,eP=[{title:"Getting Started",icon:"\uD83D\uDE80",questions:[{label:"How do I get started?",message:"How do I get started with AIMakeFood?"},{label:"App overview",message:"Give me an overview of what this app can do"},{label:"Where is everything?",message:"How do I navigate around the app? Where are the main features?"}]},{title:"Scanning & Ingredients",icon:"\uD83D\uDCF7",questions:[{label:"How to scan ingredients",message:"How do I scan ingredients with the camera?"},{label:"Camera not working",message:"My camera is not working for scanning. How do I fix it?"},{label:"Manage my pantry",message:"How do I view and manage my ingredient inventory?"},{label:"Expiring ingredients",message:"How do I see which ingredients are expiring soon?"}]},{title:"Recipes & Cooking",icon:"\uD83D\uDC68‍\uD83C\uDF73",questions:[{label:"Find recipes",message:"How do I find recipes based on what I have?"},{label:"Start cooking mode",message:"How do I start a guided cooking session?"},{label:"Create my own recipe",message:"How do I create and save my own recipe?"},{label:"Follow a recipe",message:"Walk me through how to follow a recipe step by step"}]},{title:"Safety Features",icon:"\uD83D\uDEE1️",questions:[{label:"Safety scanner setup",message:"How do I set up the safety scanner?"},{label:"What hazards detected?",message:"What types of hazards does the safety scanner detect?"},{label:"Safety alerts",message:"How do I customize safety alerts?"},{label:"Kitchen safety tips",message:"Give me some important kitchen safety tips"}]},{title:"Voice Commands",icon:"\uD83C\uDFA4",questions:[{label:"Use voice commands",message:"How do I use voice commands while cooking?"},{label:"Voice not working",message:"Voice commands are not working. How do I fix this?"},{label:"Change chef persona",message:"How do I change the chef persona voice?"},{label:"All voice commands",message:"What are all the voice commands I can use?"}]},{title:"Shopping & Planning",icon:"\uD83D\uDED2",questions:[{label:"Create shopping list",message:"How do I create a shopping list?"},{label:"Add from recipe",message:"How do I add recipe ingredients to my shopping list?"},{label:"Meal planning",message:"How does the AI meal planning feature work?"},{label:"Multiple lists",message:"Can I have multiple shopping lists?"}]},{title:"Cooking Skills",icon:"\uD83D\uDD2A",questions:[{label:"Knife skills",message:"Teach me proper knife skills and grip techniques"},{label:"Cooking temperatures",message:"What are the safe cooking temperatures for different meats?"},{label:"Cooking techniques",message:"Explain basic cooking techniques like saut\xe9ing and roasting"},{label:"Beginner tips",message:"What are your top tips for beginner cooks?"}]},{title:"Account & Settings",icon:"⚙️",questions:[{label:"Change settings",message:"How do I access and change my settings?"},{label:"Subscription plans",message:"What are the different subscription plans?"},{label:"Privacy settings",message:"How do I manage my privacy settings?"},{label:"Two-factor auth",message:"How do I set up two-factor authentication?"}]}],eM=[{label:"\uD83D\uDE80 Get started",message:"How do I get started with AIMakeFood?"},{label:"\uD83D\uDCF7 Scan ingredients",message:"How do I scan ingredients with the camera?"},{label:"\uD83D\uDC68‍\uD83C\uDF73 Find recipes",message:"How do I find recipes based on what I have?"},{label:"\uD83D\uDEE1️ Safety features",message:"How do I set up the safety scanner?"},{label:"\uD83C\uDFA4 Voice commands",message:"How do I use voice commands while cooking?"},{label:"\uD83D\uDD2A Knife skills",message:"Teach me proper knife skills and grip techniques"}];function ez({message:e}){let t="user"===e.role;return(0,s.jsx)(ey.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:(0,V.cn)("flex",t?"justify-end":"justify-start"),children:(0,s.jsx)("div",{className:(0,V.cn)("max-w-[85%] rounded-2xl px-4 py-2.5 text-sm",t?"bg-gradient-to-r from-orange-500 to-pink-500 text-white rounded-br-md":"bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white rounded-bl-md"),children:(0,s.jsx)("p",{className:"whitespace-pre-wrap",children:e.content})})})}function eD(){return(0,s.jsx)(ey.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:(0,s.jsx)("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-2xl rounded-bl-md px-4 py-3",children:(0,s.jsx)("div",{className:"flex gap-1",children:[0,1,2].map(e=>(0,s.jsx)(ey.P.div,{className:"w-2 h-2 bg-slate-400 rounded-full",animate:{y:[0,-4,0]},transition:{duration:.6,repeat:1/0,delay:.15*e}},e))})})})}function e$({onSelectQuestion:e,isLoading:t,compact:a=!1}){let[r,n]=(0,l.useState)(null);return a?(0,s.jsxs)("div",{className:"py-2 border-t border-slate-200 dark:border-slate-700",children:[(0,s.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2 px-1",children:"Quick questions:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1.5",children:eM.slice(0,4).map(a=>(0,s.jsx)("button",{onClick:()=>e(a.message),disabled:t,className:"px-2.5 py-1 text-xs font-medium bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-full hover:bg-teal-100 dark:hover:bg-teal-900/30 hover:text-teal-700 dark:hover:text-teal-300 transition-colors disabled:opacity-50",children:a.label},a.label))})]}):(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:eM.map(a=>(0,s.jsx)("button",{onClick:()=>e(a.message),disabled:t,className:"px-3 py-1.5 text-xs font-medium bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-full hover:bg-teal-100 dark:hover:bg-teal-900/30 hover:text-teal-700 dark:hover:text-teal-300 transition-colors disabled:opacity-50",children:a.label},a.label))}),(0,s.jsxs)("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3",children:[(0,s.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center mb-2",children:"Or browse by topic:"}),(0,s.jsx)("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:eP.map(a=>(0,s.jsxs)("div",{className:"rounded-lg overflow-hidden",children:[(0,s.jsxs)("button",{onClick:()=>n(r===a.title?null:a.title),className:"w-full flex items-center justify-between px-3 py-2 text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:[(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:a.icon}),(0,s.jsx)("span",{children:a.title})]}),r===a.title?(0,s.jsx)(eS.A,{className:"w-4 h-4 text-slate-400"}):(0,s.jsx)(k.A,{className:"w-4 h-4 text-slate-400"})]}),(0,s.jsx)(eA.N,{children:r===a.title&&(0,s.jsx)(ey.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:(0,s.jsx)("div",{className:"px-3 pb-2 space-y-1",children:a.questions.map(a=>(0,s.jsx)("button",{onClick:()=>e(a.message),disabled:t,className:"w-full text-left px-3 py-1.5 text-xs text-slate-600 dark:text-slate-400 hover:bg-teal-50 dark:hover:bg-teal-900/20 hover:text-teal-700 dark:hover:text-teal-300 rounded-md transition-colors disabled:opacity-50",children:a.label},a.label))})})})]},a.title))})]})]})}function eL(){let{messages:e,isLoading:t,sendMessage:a,clearMessages:r}=function(){let[e,t]=(0,l.useState)([]),[a,s]=(0,l.useState)(!1),[r,n]=(0,l.useState)(null);(0,l.useEffect)(()=>{try{let e=localStorage.getItem(eH);if(e){let a=JSON.parse(e).map(e=>({...e,timestamp:new Date(e.timestamp)}));t(a)}}catch{}},[]),(0,l.useEffect)(()=>{if(e.length>0)try{let t=e.slice(-10);localStorage.setItem(eH,JSON.stringify(t))}catch{}},[e]);let i=(0,l.useCallback)(async a=>{let r=a.trim();if(!r)return;let l={id:eF(),role:"user",content:r,timestamp:new Date};t(e=>[...e,l]),s(!0),n(null);try{let a=e.slice(-6).map(e=>({role:e.role,content:e.content})),s=await es.api.sendHelpBotMessage(r,a),l={id:eF(),role:"assistant",content:s.message||"I'm here to help! Ask me about scanning ingredients, using safety features, voice commands, cooking tips, or anything else about the app.",timestamp:new Date};t(e=>[...e,l])}catch(a){console.error("HelpBot error:",a),n("Failed to get response. Please try again.");let e={id:eF(),role:"assistant",content:"I'm having trouble connecting right now. Please try again in a moment, or check your internet connection.",timestamp:new Date};t(t=>[...t,e])}finally{s(!1)}},[e]);return{messages:e,isLoading:a,error:r,sendMessage:i,clearMessages:(0,l.useCallback)(()=>{t([]);try{localStorage.removeItem(eH)}catch{}},[])}}(),[n,i]=(0,l.useState)(!1),[o,d]=(0,l.useState)(""),c=(0,l.useRef)(null),x=(0,l.useRef)(null);(0,l.useEffect)(()=>{c.current&&c.current.scrollIntoView({behavior:"smooth"})},[e,t]),(0,l.useEffect)(()=>{n&&x.current&&setTimeout(()=>x.current?.focus(),100)},[n]);let m=async()=>{let e=o.trim();e&&!t&&(d(""),await a(e))},h=async e=>{await a(e)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(ey.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(!0),className:(0,V.cn)("fixed bottom-24 right-6 md:bottom-8 md:right-8 w-14 h-14 rounded-full shadow-lg z-50","bg-gradient-to-br from-teal-500 to-cyan-600 text-white","flex items-center justify-center","hover:shadow-xl transition-shadow",n&&"hidden"),"aria-label":"Open help chat",children:[(0,s.jsx)(ec.A,{className:"w-6 h-6"}),0===e.length&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-orange-500 rounded-full flex items-center justify-center",children:(0,s.jsx)(eC.A,{className:"w-3 h-3"})})]}),(0,s.jsx)(eA.N,{children:n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ey.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50 md:hidden",onClick:()=>i(!1)}),(0,s.jsxs)(ey.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",damping:25,stiffness:300},className:(0,V.cn)("fixed z-50 bg-white dark:bg-slate-900 rounded-2xl shadow-2xl","flex flex-col overflow-hidden","inset-4 md:inset-auto","md:bottom-8 md:right-8 md:w-96 md:h-[500px]"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-gradient-to-r from-teal-500 to-cyan-600 text-white",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(eI.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"font-bold",children:"AI Chef Assistant"})]}),(0,s.jsx)("button",{onClick:()=>i(!1),className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:(0,s.jsx)(q.A,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[0===e.length?(0,s.jsxs)("div",{className:"text-center py-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-teal-100 to-cyan-100 dark:from-teal-900/30 dark:to-cyan-900/30 rounded-full flex items-center justify-center",children:(0,s.jsx)(ec.A,{className:"w-8 h-8 text-teal-600 dark:text-teal-400"})}),(0,s.jsx)("h3",{className:"font-bold text-slate-900 dark:text-white mb-1",children:"Hi! I'm Chef AI, your kitchen guide"}),(0,s.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"I can help you cook, use the app, and answer any kitchen questions!"}),(0,s.jsx)(e$,{onSelectQuestion:h,isLoading:t})]}):(0,s.jsxs)(s.Fragment,{children:[e.map(e=>(0,s.jsx)(ez,{message:e},e.id)),t&&(0,s.jsx)(eD,{}),!t&&(0,s.jsx)(e$,{onSelectQuestion:h,isLoading:t,compact:!0})]}),(0,s.jsx)("div",{ref:c})]}),(0,s.jsx)("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{ref:x,type:"text",value:o,onChange:e=>d(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),m())},placeholder:"Ask me anything...",disabled:t,className:(0,V.cn)("flex-1 px-4 py-2.5 rounded-full text-sm","bg-slate-100 dark:bg-slate-800","text-slate-900 dark:text-white","placeholder:text-slate-500 dark:placeholder:text-slate-400","focus:outline-none focus:ring-2 focus:ring-teal-500","disabled:opacity-50")}),(0,s.jsx)("button",{onClick:m,disabled:!o.trim()||t,className:(0,V.cn)("w-10 h-10 rounded-full flex items-center justify-center","bg-gradient-to-r from-teal-500 to-cyan-600 text-white","hover:shadow-lg transition-shadow","disabled:opacity-50 disabled:cursor-not-allowed"),children:t?(0,s.jsx)(eE.A,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(e_.A,{className:"w-4 h-4"})})]})})]})]})})]})}var eT=a(58915);function eR({children:e}){let{isCollapsed:t}=K();return(0,s.jsxs)("div",{className:(0,V.cn)("min-h-screen bg-slate-50 dark:bg-slate-950 transition-all duration-300","md:pl-16",!t&&"md:pl-64"),children:[(0,s.jsx)(eN,{}),(0,s.jsx)(i,{}),(0,s.jsx)("main",{className:"container mx-auto px-4 py-8 pb-24 md:pb-8",children:(0,s.jsx)(h,{children:e})}),(0,s.jsx)(f,{})]})}function eq({children:e}){let t=(0,r.useRouter)(),{authenticated:a,loading:n}=(0,ea.A)();return((0,l.useEffect)(()=>{n||a||t.push("/login")},[a,n,t]),n)?(0,s.jsx)("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 flex items-center justify-center",children:(0,s.jsx)(eT.k,{size:"lg",text:"Loading kitchen..."})}):a?(0,s.jsx)(Y.U2,{children:(0,s.jsxs)(G,{children:[(0,s.jsx)(en,{}),(0,s.jsx)(eR,{children:e}),(0,s.jsx)(eL,{})]})}):null}},47963:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var s=a(21555),r=a(15885);function l(e={}){let{autoRefresh:t=!0,refreshInterval:a=3e4,limit:n=10}=e,[i,o]=(0,s.useState)([]),[d,c]=(0,s.useState)(0),[x,m]=(0,s.useState)(!0),[h,u]=(0,s.useState)(null),[g,b]=(0,s.useState)(!1),[p,f]=(0,s.useState)(1),k=(0,s.useCallback)(async(e=1,t=!1)=>{try{t||m(!0),u(null);let a=await r.api.getNotifications({page:e,limit:n});t?o(e=>[...e,...a.notifications]):o(a.notifications),c(a.unread_count),b(a.has_more),f(a.page)}catch(e){u(e instanceof Error?e:Error("Failed to fetch notifications"))}finally{m(!1)}},[n]),j=(0,s.useCallback)(async()=>{await k(1,!1)},[k]),v=(0,s.useCallback)(async()=>{g&&!x&&await k(p+1,!0)},[k,g,x,p]),w=(0,s.useCallback)(async e=>{try{let t=await r.api.markNotificationRead(e);c(t.unread_count),o(t=>t.map(t=>t.id===e?{...t,is_read:!0}:t))}catch(e){console.error("Failed to mark notification as read:",e)}},[]),N=(0,s.useCallback)(async()=>{try{let e=await r.api.markNotificationRead(void 0,!0);c(e.unread_count),o(e=>e.map(e=>({...e,is_read:!0})))}catch(e){console.error("Failed to mark all notifications as read:",e)}},[]);return(0,s.useEffect)(()=>{k()},[k]),(0,s.useEffect)(()=>{if(!t)return;let e=setInterval(()=>{k(1,!1)},a);return()=>clearInterval(e)},[t,a,k]),{notifications:i,unreadCount:d,loading:x,error:h,hasMore:g,page:p,refresh:j,loadMore:v,markAsRead:w,markAllAsRead:N}}},58915:(e,t,a)=>{"use strict";a.d(t,{k:()=>r});var s=a(55155);function r({size:e="md",text:t="AI is Thinking..."}){return(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsxs)("div",{className:`relative ${{sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"}[e]}`,children:[(0,s.jsx)("div",{className:"absolute inset-0 border-4 border-orange-200 rounded-full"}),(0,s.jsx)("div",{className:"absolute inset-0 border-4 border-orange-500 rounded-full border-t-transparent animate-spin"})]}),t&&(0,s.jsx)("p",{className:"text-xs font-bold uppercase tracking-widest text-orange-500 animate-pulse",children:t})]})}},69339:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(21555),r=a(15885);function l(){let[e,t]=(0,s.useState)(null),[a,l]=(0,s.useState)(!0),[n,i]=(0,s.useState)(!1),[o,d]=(0,s.useState)(null),c=(0,s.useCallback)(async()=>{try{let e=(0,r.getSupabase)(),{data:a,error:s}=await e.auth.refreshSession();if(s)return console.error("[useAuth] Refresh error:",s),!1;if(!a?.session)return console.error("[useAuth] No session returned after refresh"),!1;return d(a.session),t(a.session.user),console.log("[useAuth] Session refreshed successfully"),!0}catch(e){return console.error("[useAuth] Failed to refresh:",e),!1}},[]);return(0,s.useEffect)(()=>{r.api.getUser().then(({data:{user:e}})=>{t(e),l(!1),i(!0)}).catch(()=>{l(!1),i(!0)});let{data:{subscription:e}}=r.api.onAuthStateChange(async(e,a)=>{console.log("[useAuth] Auth state change:",e),"TOKEN_REFRESHED"===e&&console.log("[useAuth] Token refreshed successfully"),d(a),t(a?.user??null),l(!1),i(!0)});return()=>e.unsubscribe()},[]),{user:e,session:o,loading:a,isReady:n,authenticated:!!e,refreshSession:c,signOut:()=>r.api.signOut()}}},76250:(e,t,a)=>{"use strict";a.d(t,{D:()=>i,N:()=>n});var s=a(55155),r=a(21555);let l=(0,r.createContext)(void 0);function n({children:e}){let[t,a]=(0,r.useState)("system"),[n,i]=(0,r.useState)("light");return(0,r.useEffect)(()=>{let e=localStorage.getItem("theme");e&&a(e)},[]),(0,r.useEffect)(()=>{let e,a=window.document.documentElement;a.classList.remove("light","dark"),e="system"===t?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":t,a.classList.add(e),i(e)},[t]),(0,s.jsx)(l.Provider,{value:{theme:t,setTheme:e=>{localStorage.setItem("theme",e),a(e)},resolvedTheme:n},children:e})}function i(){let e=(0,r.useContext)(l);if(!e)throw Error("useTheme must be used within ThemeProvider");return e}},90616:(e,t,a)=>{"use strict";a.d(t,{P:()=>d,z:()=>c});var s=a(55155),r=a(21555),l=a(43987),n=a(15885);let i="aimakefood_demo_mode",o=(0,r.createContext)(void 0);function d({children:e}){let[t,a]=(0,r.useState)(!1),d=(0,l.J_)();return(0,r.useEffect)(()=>{"true"===localStorage.getItem(i)&&a(!0)},[]),(0,r.useEffect)(()=>{(0,n.setDemoState)(t,d)},[t,d]),(0,s.jsx)(o.Provider,{value:{demoMode:t,setDemoMode:e=>{localStorage.setItem(i,String(e)),a(e)},demoIngredients:d},children:e})}function c(){let e=(0,r.useContext)(o);if(!e)throw Error("useDemo must be used within DemoProvider");return e}}},e=>{e.O(0,[9731,9631,7139,3948,5101,3527,3929,5885,9889,6939,1170,7358],()=>e(e.s=13489)),_N_E=e.O()}]);