(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6172],{3738:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(18889).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},24290:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(18889).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},31616:(e,t,s)=>{"use strict";s.d(t,{cn:()=>r});var a=s(43696),l=s(33086);function r(...e){return(0,l.QP)((0,a.$)(e))}},33971:(e,t,s)=>{"use strict";s.d(t,{$:()=>o,r:()=>n});var a=s(55155),l=s(3456),r=s(47426),i=s(31616);let n=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-bold transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:ring-2 focus-visible:ring-orange-500 focus-visible:ring-offset-2",{variants:{variant:{default:"bg-orange-500 text-white hover:bg-orange-600 shadow-md shadow-orange-200 dark:shadow-orange-900/20",destructive:"bg-red-500 text-white hover:bg-red-600 shadow-md shadow-red-200 dark:shadow-red-900/20",outline:"border-2 border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800 hover:border-slate-300 dark:hover:border-slate-600",secondary:"bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white hover:bg-slate-200 dark:hover:bg-slate-700",ghost:"hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-900 dark:text-white",link:"text-orange-500 dark:text-orange-400 underline-offset-4 hover:underline"},size:{default:"h-11 px-5 py-2",sm:"h-9 rounded-lg px-3 text-xs",lg:"h-14 rounded-2xl px-8 text-base",icon:"size-10"}},defaultVariants:{variant:"default",size:"default"}});function o({className:e,variant:t,size:s,asChild:r=!1,...o}){let c=r?l.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,i.cn)(n({variant:t,size:s,className:e})),...o})}},39156:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(18889).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},57798:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(18889).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},57809:(e,t,s)=>{"use strict";s.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>n,Zp:()=>r,aR:()=>i});var a=s(55155),l=s(31616);function r({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,l.cn)("bg-white dark:bg-slate-900 text-slate-900 dark:text-white flex flex-col gap-6 rounded-2xl border border-slate-200 dark:border-slate-800 py-6 shadow-sm",e),...t})}function i({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,l.cn)("flex flex-col gap-1.5 px-6",e),...t})}function n({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,l.cn)("leading-none font-bold tracking-tight text-xl",e),...t})}function o({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,l.cn)("text-slate-600 dark:text-slate-400 text-sm",e),...t})}function c({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,l.cn)("px-6",e),...t})}},58793:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>R});var a=s(55155),l=s(73675),r=s(15749),i=s(44746),n=s(48345),o=s(50536),c=s(3738),d=s(21555),x=s(24290),u=s(33444),m=s(95382),h=s(77636),p=s(58818),g=s(95868),f=s(57798),b=s(80215),j=s(18546),v=s(78304),y=s(88324),w=s(66141),k=s(30382),N=s(33971),C=s(57809),A=s(88244),_=s(15885);function S({name:e,avatarUrl:t,level:s,size:l="md"}){let r={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-14 h-14 text-lg"};return(0,a.jsxs)("div",{className:"relative",children:[t?(0,a.jsx)("img",{src:t,alt:e,className:`${r[l]} rounded-full object-cover`}):(0,a.jsx)("div",{className:`${r[l]} rounded-full bg-gradient-to-br from-orange-400 to-pink-500 flex items-center justify-center text-white font-bold`,children:e.charAt(0).toUpperCase()}),(0,a.jsx)("div",{className:`absolute -bottom-1 -right-1 ${{sm:"w-4 h-4 text-[8px]",md:"w-5 h-5 text-[10px]",lg:"w-6 h-6 text-xs"}[l]} bg-slate-900 text-white rounded-full flex items-center justify-center font-bold border-2 border-white`,children:s})]})}function P({rating:e}){return(0,a.jsx)("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(t=>(0,a.jsx)(x.A,{className:`w-3 h-3 ${t<=e?"text-yellow-400 fill-yellow-400":"text-slate-300"}`},t))})}function $({difficulty:e}){return(0,a.jsx)("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${{easy:"bg-green-100 text-green-700",medium:"bg-yellow-100 text-yellow-700",hard:"bg-red-100 text-red-700"}[e]||"bg-slate-100 text-slate-700"}`,children:e})}function M({post:e,onLike:t,onComment:s,onShare:l}){let i=D(e.created_at);return(0,a.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:(0,a.jsxs)(C.Zp,{className:"overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(S,{name:e.user?.display_name||"Unknown",avatarUrl:e.user?.avatar_url,level:e.user?.level||1}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold text-sm",children:e.user?.display_name||"Unknown User"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:i})]})]}),"pending"===e.moderation_status&&(0,a.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full",children:"Under Review"})]}),e.image_url&&(0,a.jsx)("div",{className:"relative aspect-square bg-slate-100",children:(0,a.jsx)("img",{src:e.image_url,alt:e.recipe?.title||e.caption||"Post image",className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{className:"p-4 space-y-3",children:[e.recipe&&(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-lg",children:e.recipe.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[e.recipe.cuisine&&(0,a.jsx)("span",{className:"text-xs text-slate-500",children:e.recipe.cuisine}),e.recipe.difficulty&&(0,a.jsx)($,{difficulty:e.recipe.difficulty}),e.recipe.cook_time_minutes&&(0,a.jsxs)("span",{className:"flex items-center gap-1 text-xs text-slate-500",children:[(0,a.jsx)(u.A,{className:"w-3 h-3"}),e.recipe.cook_time_minutes,"m"]})]})]}),e.rating&&(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[(0,a.jsx)(P,{rating:e.rating}),(0,a.jsxs)("span",{className:"text-xs text-slate-500 mt-1",children:[e.rating,"/5"]})]})]}),e.caption&&(0,a.jsx)("p",{className:"text-sm text-slate-600",children:e.caption}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("button",{onClick:()=>t(e.id,e.is_liked||!1),className:"flex items-center gap-1.5 text-sm",children:[(0,a.jsx)(m.A,{className:`w-5 h-5 transition-colors ${e.is_liked?"text-red-500 fill-red-500":"text-slate-400 hover:text-red-500"}`}),(0,a.jsx)("span",{className:e.is_liked?"text-red-500":"text-slate-500",children:e.likes_count})]}),(0,a.jsxs)("button",{onClick:()=>s(e.id),className:"flex items-center gap-1.5 text-sm text-slate-400 hover:text-slate-600",children:[(0,a.jsx)(h.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:e.comments_count})]})]}),(0,a.jsx)("button",{onClick:()=>l(e.id),className:"p-2 text-slate-400 hover:text-slate-600",children:(0,a.jsx)(p.A,{className:"w-5 h-5"})})]})]})]})})}function z({postId:e,comments:t,onSubmit:s,isLoading:l}){let[r,i]=(0,d.useState)("");return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:t.map(e=>(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(S,{name:e.user?.display_name||"Unknown",avatarUrl:e.user?.avatar_url,level:e.user?.level||1,size:"sm"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-xl px-3 py-2",children:[(0,a.jsx)("p",{className:"font-bold text-xs",children:e.user?.display_name||"Unknown"}),(0,a.jsx)("p",{className:"text-sm text-slate-900 dark:text-white",children:e.content})]}),(0,a.jsx)("p",{className:"text-[10px] text-slate-400 mt-1 ml-2",children:D(e.created_at)})]})]},e.id))}),(0,a.jsxs)("form",{onSubmit:t=>{t.preventDefault(),r.trim()&&(s(e,r),i(""))},className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),placeholder:"Add a comment...",className:"flex-1 px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white placeholder:text-slate-500 dark:placeholder:text-slate-400 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"}),(0,a.jsx)(N.$,{type:"submit",disabled:!r.trim()||l,className:"rounded-full px-4",children:l?(0,a.jsx)(o.A,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(g.A,{className:"w-4 h-4"})})]})]})}function F({query:e,onQueryChange:t,cuisine:s,onCuisineChange:l,difficulty:r,onDifficultyChange:n,onSearch:c,isSearching:d}){return(0,a.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(f.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,a.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),onKeyDown:e=>"Enter"===e.key&&c(),placeholder:"Search posts and users...",className:"w-full pl-10 pr-4 py-2 bg-slate-100 dark:bg-slate-800 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"}),e&&(0,a.jsx)("button",{onClick:()=>t(""),className:"absolute right-3 top-1/2 -translate-y-1/2",children:(0,a.jsx)(i.A,{className:"w-4 h-4 text-slate-400 hover:text-slate-600"})})]}),(0,a.jsx)(N.$,{onClick:c,disabled:d,className:"rounded-full",children:d?(0,a.jsx)(o.A,{className:"w-4 h-4 animate-spin"}):"Search"})]}),(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,a.jsxs)("select",{value:s,onChange:e=>l(e.target.value),className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-800 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,a.jsx)("option",{value:"",children:"All Cuisines"}),["","Italian","Asian","Mexican","Mediterranean","American","French","Thai","Indian","Japanese"].filter(e=>e).map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsxs)("select",{value:r,onChange:e=>n(e.target.value),className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-800 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,a.jsx)("option",{value:"",children:"All Difficulties"}),["","easy","medium","hard"].filter(e=>e).map(e=>(0,a.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]})]})}function U({active:e,onChange:t}){let s=[{id:"trending",label:"Trending",icon:b.A},{id:"recent",label:"Recent",icon:u.A},{id:"following",label:"Following",icon:j.A},{id:"top_rated",label:"Top Rated",icon:v.A}];return(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:s.map(s=>{let l=s.icon,r=e===s.id;return(0,a.jsxs)("button",{onClick:()=>t(s.id),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${r?"bg-orange-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[(0,a.jsx)(l,{className:"w-4 h-4"}),s.label]},s.id)})})}function T({user:e,onFollow:t}){return(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-800 rounded-xl",children:[(0,a.jsx)(S,{name:e.display_name,avatarUrl:e.avatar_url,level:e.level}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-bold text-sm",children:e.display_name}),(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:[e.followers_count," followers \xb7 Level ",e.level]})]}),(0,a.jsx)(N.$,{size:"sm",variant:e.is_following?"outline":"default",onClick:()=>t(e.id,e.is_following||!1),className:"rounded-full",children:e.is_following?"Following":(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.A,{className:"w-3 h-3 mr-1"}),"Follow"]})})]})}function L({streak:e,longestStreak:t}){return(0,a.jsxs)(C.Zp,{className:"p-4 bg-gradient-to-br from-orange-500 to-pink-500 text-white",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(w.A,{className:"w-5 h-5"}),(0,a.jsx)("h3",{className:"font-bold",children:"Cooking Streak"})]}),(0,a.jsxs)("div",{className:"flex items-end gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-4xl font-black",children:e}),(0,a.jsx)("p",{className:"text-xs opacity-80",children:"days"})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("p",{className:"text-xs opacity-60",children:["Best: ",t," days"]})})]})]})}function D(e){let t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/1e3);return s<60?"just now":s<3600?`${Math.floor(s/60)}m ago`:s<86400?`${Math.floor(s/3600)}h ago`:s<604800?`${Math.floor(s/86400)}d ago`:t.toLocaleDateString()}function q({className:e="",onRefresh:t}){let s=(0,A.d)(),[i,n]=(0,d.useState)("trending"),[c,x]=(0,d.useState)([]),[u,m]=(0,d.useState)(!0),[h,p]=(0,d.useState)(null),[g,f]=(0,d.useState)({}),[b,j]=(0,d.useState)(!1),[v,y]=(0,d.useState)(""),[w,S]=(0,d.useState)(""),[P,$]=(0,d.useState)(""),[D,q]=(0,d.useState)(!1),[E,R]=(0,d.useState)(null),H=(0,d.useCallback)(async()=>{m(!0);try{let e=await _.api.getCommunityFeed(i,{cuisine:w||void 0,difficulty:P||void 0});x(e.posts||[])}catch(e){console.error("Failed to load feed:",e),s.error("Failed to load feed","Please try again later.")}finally{m(!1)}},[i,w,P,s]);(0,d.useEffect)(()=>{H()},[H]);let Z=async()=>{if(!v.trim()||v.length<2)return void s.error("Search query too short","Please enter at least 2 characters.");q(!0);try{let e=await _.api.searchCommunity(v,{type:"all",cuisine:w||void 0,difficulty:P||void 0});R(e)}catch(e){console.error("Search failed:",e),s.error("Search failed","Please try again.")}finally{q(!1)}},B=()=>{y(""),R(null)},I=(0,d.useCallback)(async(e,t)=>{x(s=>s.map(s=>s.id===e?{...s,is_liked:!t,likes_count:t?s.likes_count-1:s.likes_count+1}:s));try{t?await _.api.unlikePost(e):await _.api.likePost(e)}catch(a){x(s=>s.map(s=>s.id===e?{...s,is_liked:t,likes_count:t?s.likes_count+1:s.likes_count-1}:s)),s.error("Action failed","Could not update like. Please try again.")}},[s]),Y=(0,d.useCallback)(e=>{p(e===h?null:e)},[h]),O=(0,d.useCallback)(async(e,t)=>{j(!0);try{let a=await _.api.addComment(e,t);f(t=>({...t,[e]:[...t[e]||[],a.comment]})),x(t=>t.map(t=>t.id===e?{...t,comments_count:t.comments_count+1}:t)),a.message&&s.info("Comment submitted",a.message)}catch(e){console.error("Failed to add comment:",e),s.error("Comment failed","Could not add comment. Please try again.")}finally{j(!1)}},[s]),Q=(0,d.useCallback)(e=>{let t=c.find(t=>t.id===e);t&&navigator.share?navigator.share({title:"Check out this post on AIMakeFood!",text:t.caption||t.recipe?.title||"Amazing dish!",url:window.location.href}).catch(()=>{}):(navigator.clipboard.writeText(window.location.href),s.success("Link copied","Post link copied to clipboard!"))},[c,s]),V=(0,d.useCallback)(async(e,t)=>{try{t?(await _.api.unfollowUser(e),s.success("Unfollowed","You are no longer following this user.")):(await _.api.followUser(e),s.success("Following","You are now following this user!")),E?.users&&R(s=>({...s,users:s?.users?.map(s=>s.id===e?{...s,is_following:!t}:s)}))}catch(e){console.error("Follow action failed:",e),s.error("Action failed","Could not update follow status.")}},[E,s]),W=E?.posts||c;return(0,a.jsxs)("div",{className:`${e}`,children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"p-2 bg-orange-100 rounded-xl",children:(0,a.jsx)(k.A,{className:"w-6 h-6 text-orange-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-black",children:"Chef's Table"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"See what others are cooking"})]})]}),(0,a.jsx)(F,{query:v,onQueryChange:e=>{y(e),e||B()},cuisine:w,onCuisineChange:S,difficulty:P,onDifficultyChange:$,onSearch:Z,isSearching:D}),!E&&(0,a.jsx)(U,{active:i,onChange:n}),E&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("p",{className:"text-sm text-slate-500",children:['Search results for "',v,'"']}),(0,a.jsx)(N.$,{variant:"ghost",size:"sm",onClick:B,children:"Clear search"})]})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[E?.users&&E.users.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"font-bold text-sm text-slate-500 uppercase",children:"Users"}),E.users.map(e=>(0,a.jsx)(T,{user:e,onFollow:V},e.id))]}),E?.posts&&(0,a.jsx)("h3",{className:"font-bold text-sm text-slate-500 uppercase",children:"Posts"}),u?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)(o.A,{className:"w-8 h-8 animate-spin text-orange-500"})}):0===W.length?(0,a.jsxs)(C.Zp,{className:"p-8 text-center",children:[(0,a.jsx)(k.A,{className:"w-12 h-12 mx-auto mb-4 text-slate-300"}),(0,a.jsx)("h3",{className:"font-bold text-lg mb-2",children:"No posts yet"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:E?"No posts match your search criteria.":"Be the first to share your culinary creation!"})]}):(0,a.jsx)(l.N,{mode:"popLayout",children:W.map(e=>(0,a.jsxs)("div",{children:[(0,a.jsx)(M,{post:e,onLike:I,onComment:Y,onShare:Q}),h===e.id&&(0,a.jsx)(r.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-2 bg-white dark:bg-slate-900 rounded-2xl p-4 border border-slate-200 dark:border-slate-700",children:(0,a.jsx)(z,{postId:e.id,comments:g[e.id]||[],onSubmit:O,isLoading:b})})]},e.id))})]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsx)(L,{streak:7,longestStreak:14})})]})]})}function E({isOpen:e,onClose:t,onSuccess:s}){let c=(0,A.d)(),[x,u]=(0,d.useState)(""),[m,h]=(0,d.useState)(null),[p,g]=(0,d.useState)(!1),f=async()=>{if(m){g(!0);try{let e=await _.api.createPost({image_url:m,caption:x.trim()});e.post?(c.info("Post submitted for review",e.message||"Your post is being reviewed and will appear once approved."),t(),s?.()):c.error("Share failed","Could not share your meal. Please try again.")}catch(e){console.error("Failed to share meal:",e),c.error("Share failed","Could not share your meal. Please try again.")}finally{g(!1)}}},b=()=>{u(""),h(null),t()};return(0,a.jsx)(l.N,{children:e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:b}),(0,a.jsx)(r.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-x-4 top-1/2 -translate-y-1/2 md:inset-auto md:left-1/2 md:top-1/2 md:-translate-x-1/2 md:-translate-y-1/2 md:w-full md:max-w-lg z-50",children:(0,a.jsxs)(C.Zp,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:"Share Your Creation"}),(0,a.jsx)("button",{onClick:b,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:(0,a.jsx)(i.A,{className:"w-5 h-5"})})]}),m?(0,a.jsxs)("div",{className:"relative aspect-square rounded-2xl overflow-hidden mb-4",children:[(0,a.jsx)("img",{src:m,alt:"Selected",className:"w-full h-full object-cover"}),(0,a.jsx)("button",{onClick:()=>h(null),className:"absolute top-3 right-3 p-2 bg-black/50 rounded-full text-white hover:bg-black/70",children:(0,a.jsx)(i.A,{className:"w-4 h-4"})})]}):(0,a.jsxs)("label",{className:"block aspect-video border-2 border-dashed border-slate-200 rounded-2xl cursor-pointer hover:bg-slate-50 transition-colors mb-4",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,a.jsx)(n.A,{className:"w-10 h-10 text-slate-300 mb-2"}),(0,a.jsx)("span",{className:"font-medium text-slate-500",children:"Add a photo"}),(0,a.jsx)("span",{className:"text-xs text-slate-400 mt-1",children:"Show off your dish!"})]}),(0,a.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onloadend=()=>{h(e.result)},e.readAsDataURL(t)}}})]}),(0,a.jsx)("textarea",{value:x,onChange:e=>u(e.target.value),placeholder:"Add a caption... What did you cook? How did it turn out?",className:"w-full px-4 py-3 bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white placeholder:text-slate-500 dark:placeholder:text-slate-400 rounded-xl text-sm resize-none focus:outline-none focus:ring-2 focus:ring-orange-500 mb-4",rows:3}),(0,a.jsx)(N.$,{onClick:f,disabled:!m||p,className:"w-full bg-gradient-to-r from-orange-500 to-pink-500 hover:shadow-lg",children:p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{className:"w-4 h-4 animate-spin mr-2"}),"Sharing..."]}):"Share to Chef's Table"})]})})]})})}function R(){let[e,t]=(0,d.useState)(!1);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(q,{}),(0,a.jsx)(r.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!0),className:"fixed bottom-24 right-6 md:bottom-8 w-14 h-14 bg-gradient-to-r from-orange-500 to-pink-500 rounded-full shadow-lg flex items-center justify-center text-white z-40",children:(0,a.jsx)(c.A,{className:"w-6 h-6"})}),(0,a.jsx)(E,{isOpen:e,onClose:()=>t(!1),onSuccess:()=>{}})]})}},58818:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(18889).A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},78304:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(18889).A)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]])},80215:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(18889).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},84224:(e,t,s)=>{Promise.resolve().then(s.bind(s,58793))},88244:(e,t,s)=>{"use strict";s.d(t,{d:()=>x,t:()=>p});var a=s(55155),l=s(39156),r=s(62649),i=s(67649),n=s(75686),o=s(44746),c=s(21555);let d=(0,c.createContext)(void 0);function x(){let e=(0,c.useContext)(d);if(!e)throw Error("useToast must be used within a ToastProvider");return e}let u={success:l.A,error:r.A,warning:i.A,info:n.A},m={success:{bg:"bg-green-50 dark:bg-green-500/10",border:"border-green-200 dark:border-green-500/20",icon:"text-green-500",title:"text-green-800 dark:text-green-200",message:"text-green-700 dark:text-green-300"},error:{bg:"bg-red-50 dark:bg-red-500/10",border:"border-red-200 dark:border-red-500/20",icon:"text-red-500",title:"text-red-800 dark:text-red-200",message:"text-red-700 dark:text-red-300"},warning:{bg:"bg-yellow-50 dark:bg-yellow-500/10",border:"border-yellow-200 dark:border-yellow-500/20",icon:"text-yellow-500",title:"text-yellow-800 dark:text-yellow-200",message:"text-yellow-700 dark:text-yellow-300"},info:{bg:"bg-blue-50 dark:bg-blue-500/10",border:"border-blue-200 dark:border-blue-500/20",icon:"text-blue-500",title:"text-blue-800 dark:text-blue-200",message:"text-blue-700 dark:text-blue-300"}};function h({toast:e,onRemove:t}){let s=u[e.type],l=m[e.type];return(0,c.useEffect)(()=>{let s=e.duration??5e3;if(s>0){let e=setTimeout(t,s);return()=>clearTimeout(e)}},[e.duration,t]),(0,a.jsxs)("div",{className:`${l.bg} ${l.border} border rounded-xl p-4 shadow-lg backdrop-blur-sm animate-slide-in-right flex items-start gap-3 max-w-sm w-full`,role:"alert","aria-live":"polite",children:[(0,a.jsx)(s,{className:`w-5 h-5 ${l.icon} flex-shrink-0 mt-0.5`}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:`font-medium text-sm ${l.title}`,children:e.title}),e.message&&(0,a.jsx)("p",{className:`text-sm mt-1 ${l.message}`,children:e.message})]}),(0,a.jsx)("button",{onClick:t,className:"p-1 hover:bg-black/5 dark:hover:bg-white/10 rounded-lg transition-colors flex-shrink-0","aria-label":"Dismiss notification",children:(0,a.jsx)(o.A,{className:"w-4 h-4 text-gray-400"})})]})}function p({children:e}){let[t,s]=(0,c.useState)([]),l=(0,c.useCallback)(e=>{let t=Math.random().toString(36).substring(2,9);s(s=>[...s,{...e,id:t}])},[]),r=(0,c.useCallback)(e=>{s(t=>t.filter(t=>t.id!==e))},[]),i=(0,c.useCallback)((e,t)=>l({type:"success",title:e,message:t}),[l]),n=(0,c.useCallback)((e,t)=>l({type:"error",title:e,message:t}),[l]),o=(0,c.useCallback)((e,t)=>l({type:"warning",title:e,message:t}),[l]),x=(0,c.useCallback)((e,t)=>l({type:"info",title:e,message:t}),[l]);return(0,a.jsxs)(d.Provider,{value:{toasts:t,addToast:l,removeToast:r,success:i,error:n,warning:o,info:x},children:[e,(0,a.jsx)("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2 pointer-events-none",role:"region","aria-label":"Notifications","aria-live":"polite",children:t.map(e=>(0,a.jsx)("div",{className:"pointer-events-auto",children:(0,a.jsx)(h,{toast:e,onRemove:()=>r(e.id)})},e.id))})]})}}},e=>{e.O(0,[9731,9631,7139,5101,2999,5885,6939,1170,7358],()=>e(e.s=84224)),_N_E=e.O()}]);