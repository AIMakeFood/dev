(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{26362:(e,t,a)=>{Promise.resolve().then(a.bind(a,45171))},45171:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var s=a(55155),n=a(25990),i=a(9667),l=a(21555),d=a(33971),r=a(88200),o=a(34633),c=a(83518),m=a(77528),h=a(81822),u=a(54788),g=a(33474),p=a(62394);function f(){let[e,t]=(0,l.useState)(!1),[a,f]=(0,l.useState)(!1),[y,x]=(0,l.useState)(!0),[j,S]=(0,l.useState)(!1),[w,v]=(0,l.useState)(!1),[N,b]=(0,l.useState)("off"),[C,z]=(0,l.useState)(),[k,D]=(0,l.useState)(),{metrics:R,recordIngredientFrame:M,recordSafetyFrame:H,recordApiResponse:$,reset:_}=(0,g.B)(),[F,I]=(0,l.useState)([]),[O,T]=(0,l.useState)([]),[V,G]=(0,l.useState)([]),[P,B]=(0,l.useState)([]),[E,L]=(0,l.useState)(null),[J,Z]=(0,l.useState)(),[A,q]=(0,l.useState)(),K=(0,l.useCallback)((e,a)=>{t(!0),M(e);let s={id:(0,p.VG)(),type:"frame",timestamp:Date.now(),title:`Ingredient frame ${a.width}x${a.height}`,size:e,data:{resolution:a,sizeBytes:e,scanner:"ingredient"}};B(e=>[s,...e].slice(0,100));let n=Date.now();setTimeout(()=>{let e=Date.now()-n+200*Math.random(),t={ingredients:[{name:"Tomato",confidence:.92},{name:"Onion",confidence:.88}]};$(JSON.stringify(t).length,e),Z(`${t.ingredients.length} items detected`);let a={id:(0,p.VG)(),type:"api",timestamp:Date.now(),title:"scan-ingredients response",latency:e,size:JSON.stringify(t).length,data:t};I(e=>[a,...e].slice(0,100))},200+300*Math.random())},[M,$]),Q=(0,l.useCallback)((e,a)=>{t(!0),H(e);let s={id:(0,p.VG)(),type:"frame",timestamp:Date.now(),title:`Safety frame ${a.width}x${a.height}`,size:e,data:{resolution:a,sizeBytes:e,scanner:"safety"}};B(e=>[s,...e].slice(0,100));let n=Date.now();setTimeout(()=>{let e=Date.now()-n+150*Math.random(),t=.1>Math.random(),a={hazards:t?[{type:"sharp_object",severity:"warning",message:"Knife near edge"}]:[],user_present:!0,overall_safety:t?"caution":"safe"};$(JSON.stringify(a).length,e),q(t?`${a.hazards.length} hazard(s) detected`:"No hazards detected");let s={id:(0,p.VG)(),type:"api",timestamp:Date.now(),title:"analyze-safety-frame response",latency:e,size:JSON.stringify(a).length,data:a};if(I(e=>[s,...e].slice(0,100)),t){let e={id:(0,p.VG)(),type:"hazard",timestamp:Date.now(),title:a.hazards[0].type,data:a.hazards[0]};T(t=>[e,...t].slice(0,100))}},150+200*Math.random())},[H,$]),U=(0,l.useCallback)(()=>{f(!0),b(e=>"off"===e?"listening":"off")},[]),W=(0,l.useCallback)(()=>{let e=["scan","chef","stop","help","next step"],t=e[Math.floor(Math.random()*e.length)];z(t),D(Date.now()),b("awake");let a={id:(0,p.VG)(),type:"command",timestamp:Date.now(),title:t,data:{command:t,confidence:.95+.05*Math.random()}};G(e=>[a,...e].slice(0,100)),setTimeout(()=>{b("listening")},2e3)},[]),X=(0,l.useCallback)(()=>{_(),I([]),T([]),G([]),B([]),L(null),Z(void 0),q(void 0),z(void 0),D(void 0)},[_]);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"System Monitor"}),(0,s.jsx)("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Debug dashboard for camera feeds, audio, and performance metrics"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(d.$,{variant:"secondary",size:"sm",onClick:X,children:[(0,s.jsx)(n.A,{className:"w-4 h-4 mr-2"}),"Reset"]}),(0,s.jsxs)(d.$,{variant:"secondary",size:"sm",children:[(0,s.jsx)(i.A,{className:"w-4 h-4 mr-2"}),"Settings"]})]})]}),(0,s.jsx)(u.Iq,{cameraPermission:e,micPermission:a,apiConnected:y,safetyEnabled:w,ingredientEnabled:j}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsx)(m.P,{type:"ingredient",enabled:j,onToggle:()=>S(!j),onFrameCapture:K,fps:R.ingredientFps,dataRate:R.uploadRate,lastResult:J}),(0,s.jsx)(m.P,{type:"safety",enabled:w,onToggle:()=>v(!w),onFrameCapture:Q,fps:R.safetyFps,dataRate:R.uploadRate,lastResult:A})]}),(0,s.jsx)(o.n,{voiceStatus:N,lastCommand:C,lastCommandTime:k,onToggleMic:U}),"listening"===N&&(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(d.$,{onClick:W,variant:"secondary",size:"sm",children:"Simulate Voice Command (Demo)"})}),(0,s.jsx)(h.f,{fpsHistory:R.fpsHistory,bandwidthHistory:R.bandwidthHistory,latencyHistory:R.latencyHistory,currentFps:{ingredient:R.ingredientFps,safety:R.safetyFps},currentBandwidth:{up:R.uploadRate,down:R.downloadRate},currentLatency:{last:R.lastLatency,avg:R.avgLatency},totalBytes:{sent:R.totalBytesSent,received:R.totalBytesReceived}}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(r.n,{title:"API Response Log",count:F.length,defaultOpen:!0,children:(0,s.jsx)(c.Zg,{entries:F,selectedId:E?.id||null,onSelect:L})}),(0,s.jsx)(r.n,{title:"Detected Hazards History",count:O.length,children:(0,s.jsx)(c.Zg,{entries:O,selectedId:E?.id||null,onSelect:L})}),(0,s.jsx)(r.n,{title:"Voice Command History",count:V.length,children:(0,s.jsx)(c.Zg,{entries:V,selectedId:E?.id||null,onSelect:L})}),(0,s.jsx)(r.n,{title:"Frame Capture Log",count:P.length,children:(0,s.jsx)(c.Zg,{entries:P,selectedId:E?.id||null,onSelect:L})})]}),(0,s.jsx)(c.qj,{selectedItem:E,className:"h-fit lg:sticky lg:top-4"})]})]})}}},e=>{e.O(0,[9731,7139,3970,4165,6939,1170,7358],()=>e(e.s=26362)),_N_E=e.O()}]);