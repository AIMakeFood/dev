"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[501],{80501:(e,t,a)=>{a.d(t,{H:()=>_});var s=a(21555);let n=["fire_hazard","burn_prevention","boiling_alert","child_safety","pet_safety","hot_surface","cross_contamination","away_alert","safety","warning"],r={fire_hazard:["/sounds/fire_hazard_alarm_#1-1768958536635.mp3","/sounds/fire_hazard_alarm_#2-1768958562465.mp3","/sounds/fire_hazard_alarm_#3-1768958575446.mp3","/sounds/fire_hazard_alarm_#4-1768958591266.mp3"],burn_prevention:["/sounds/burn_prevention_#1-1768971493909.mp3","/sounds/burn_prevention_#2-1768971504772.mp3","/sounds/burn_prevention_#3-1768971514893.mp3","/sounds/burn_prevention_#4-1768971523151.mp3"],boiling_alert:["/sounds/boiling_alert_#1-1768971582885.mp3","/sounds/boiling_alert_#2-1768971592373.mp3","/sounds/boiling_alert_#3-1768971603133.mp3","/sounds/boiling_alert_#4-1768971613153.mp3"],child_safety:["/sounds/child_safety_#1-1768971701893.mp3","/sounds/child_safety_#2-1768971682087.mp3","/sounds/child_safety_#3-1768971715984.mp3","/sounds/child_safety_#4-1768971729784.mp3"],pet_safety:["/sounds/pet_safety_#1-1768971788249.mp3","/sounds/pet_safety_#2-1768971804519.mp3","/sounds/pet_safety_#3-1768971818210.mp3","/sounds/pet_safety_#4-1768971831126.mp3"],hot_surface:["/sounds/stove_alarm_#1-1768959278968.mp3","/sounds/stove_alarm_#2-1768959298845.mp3","/sounds/stove_alarm_#3-1768959316740.mp3","/sounds/stove_alarm_#4-1768959332173.mp3"],safety:["/sounds/safety_hazard_alarm_#1-1768958622412.mp3","/sounds/safety_hazard_alarm_#2-1768958637543.mp3","/sounds/safety_hazard_alarm_#3-1768958652277.mp3","/sounds/safety_hazard_alarm_#4-1768958664641.mp3"],warning:["/sounds/hazard_alert_#1-1768959481641.mp3","/sounds/hazard_alert_#2-1768959494774.mp3","/sounds/hazard_alert_#3-1768959506398.mp3","/sounds/hazard_alert_#4-1768959523469.mp3"],cross_contamination:["/sounds/cross_contamination_#1-1768972087317.mp3","/sounds/cross_contamination_#2-1768972095243.mp3","/sounds/cross_contamination_#3-1768972105178.mp3","/sounds/cross_contamination_#4-1768972116686.mp3"],away_alert:["/sounds/away_alert_#1-1768972178163.mp3","/sounds/away_alert_#2-1768972193862.mp3","/sounds/away_alert_#3-1768972203084.mp3","/sounds/away_alert_#4-1768972213781.mp3"],attention_reminder:["/sounds/attention_reminder_#2-1768972274985.mp3","/sounds/attention_reminder_#3-1768972281012.mp3","/sounds/attention_reminder_#4-1768972288638.mp3"],success:["/sounds/complete_#1-1768960102801.mp3","/sounds/complete_#2-1768960112939.mp3","/sounds/complete_#3-1768960127049.mp3","/sounds/complete_#4-1768960137750.mp3"],step:["/sounds/done_#1-1768959995824.mp3","/sounds/done_#2-1768959995827.mp3","/sounds/done_#3-1768960025699.mp3","/sounds/done_#4-1768960039393.mp3"],timer:["/sounds/notification_alert_#1-1768959666948.mp3","/sounds/notification_alert_#2-1768959696242.mp3","/sounds/notification_alert_#3-1768959708689.mp3","/sounds/notification_alert_#4-1768959721383.mp3"],tip:["/sounds/scanned_#1-1768959833937.mp3","/sounds/scanned_#2-1768959845262.mp3","/sounds/scanned_#3-1768959856901.mp3","/sounds/scanned_#4-1768959868457.mp3"],knife_technique:["/sounds/knife_technique_#1-1768971899323.mp3","/sounds/knife_technique_#2-1768971915404.mp3","/sounds/knife_technique_#3-1768971927968.mp3","/sounds/knife_technique_#4-1768971942040.mp3"]},o=(e,t,a,s="sine",n=.3)=>{let r=e.createOscillator(),o=e.createGain();r.connect(o),o.connect(e.destination),r.type=s,r.frequency.value=t,o.gain.value=n,o.gain.exponentialRampToValueAtTime(.001,e.currentTime+a),r.start(e.currentTime),r.stop(e.currentTime+a)},i={safety:2e3,warning:3e3,timer:0,step:1e3,success:0,tip:5e3,fire_hazard:1500,burn_prevention:3e3,boiling_alert:5e3,child_safety:2e3,pet_safety:2e3,hot_surface:4e3,knife_technique:1e4,cross_contamination:5e3,away_alert:3e4,attention_reminder:6e4},u=new Map,l=async(e,t)=>{try{let a=u.get(e);return a||(a=new Audio(e),u.set(e,a)),a.paused||(a=a.cloneNode(!0)),a.volume=Math.max(0,Math.min(1,t)),a.currentTime=0,await a.play(),!0}catch(e){return console.warn("Failed to play audio file, falling back to synthesized:",e),!1}};function _(e={}){let{enabled:t=!0,volume:a=.7,customConfigs:c}=e,d=(0,s.useRef)(null),m=(0,s.useRef)({safety:0,warning:0,timer:0,step:0,success:0,tip:0,fire_hazard:0,burn_prevention:0,boiling_alert:0,child_safety:0,pet_safety:0,hot_surface:0,knife_technique:0,cross_contamination:0,away_alert:0,attention_reminder:0}),p=(0,s.useRef)(new Map),f=(0,s.useCallback)(e=>{let t=c?.[e];return t?.cooldown!==void 0?t.cooldown:i[e]},[c]),h=(0,s.useCallback)(e=>{let t=c?.[e];return t?.volume!==void 0?a*t.volume:a},[c,a]),y=(0,s.useCallback)(e=>{let t=c?.[e];return t?.enabled===void 0||t.enabled},[c]),b=(0,s.useCallback)(e=>c?.[e]?.frequency,[c]),k=(0,s.useCallback)(e=>{let t=p.current.get(e);t&&(t.pause(),t.currentTime=0,p.current.delete(e))},[]),w=(0,s.useCallback)(()=>{p.current.forEach(e=>{e.pause(),e.currentTime=0}),p.current.clear()},[]),T=(0,s.useCallback)(e=>p.current.has(e),[]),g=(0,s.useCallback)(async(e,t,a)=>{if(!p.current.has(e))try{let s=new Audio(t);s.loop=!0,s.volume=Math.max(0,Math.min(1,a)),await s.play(),p.current.set(e,s)}catch(e){console.warn("Failed to play looping alert:",e)}},[]),v=(0,s.useCallback)(()=>(d.current||(d.current=new(window.AudioContext||window.webkitAudioContext),["fire_hazard","child_safety","safety","burn_prevention"].flatMap(e=>r[e]||[]).forEach(e=>{if(!u.has(e)){let t=new Audio(e);t.preload="auto",u.set(e,t)}})),d.current),[]),q=(0,s.useCallback)((e,t,a,s)=>{switch(e){case"safety":let n;o(t,880,.15,"square",n=.4*a),setTimeout(()=>{o(t,880,.15,"square",n)},200),setTimeout(()=>{o(t,880,.15,"square",n)},400);break;case"warning":o(t,660,.3,"triangle",.3*a);break;case"timer":let r;o(t,523,.2,"sine",r=.25*a),setTimeout(()=>{o(t,659,.2,"sine",r)},150),setTimeout(()=>{o(t,784,.4,"sine",r)},300);break;case"step":o(t,587,.15,"sine",.2*a),setTimeout(()=>{o(t,880,.25,"sine",.15*a)},100);break;case"success":let i;i=.2*a,[523,659,784,1047].forEach((e,a)=>{setTimeout(()=>{o(t,e,.3,"sine",i)},100*a)});break;case"tip":o(t,440,.1,"sine",.15*a);break;case"fire_hazard":((e,t,a=1e3)=>{let s=.5*t;o(e,a,.12,"square",s),setTimeout(()=>{o(e,a,.12,"square",s)},150),setTimeout(()=>{o(e,a,.12,"square",s)},300)})(t,a,s);break;case"burn_prevention":((e,t,a=800)=>{let s=.4*t;o(e,a,.25,"triangle",s),setTimeout(()=>{o(e,1.1*a,.25,"triangle",.8*s)},300)})(t,a,s);break;case"boiling_alert":((e,t,a=784)=>{let s=.35*t;o(e,.8*a,.15,"sine",s),setTimeout(()=>{o(e,.9*a,.15,"sine",s)},120),setTimeout(()=>{o(e,a,.2,"sine",s)},240)})(t,a,s);break;case"child_safety":((e,t,a=1200)=>{let s=.5*t;o(e,a,.1,"square",s),setTimeout(()=>{o(e,.85*a,.1,"square",s)},120),setTimeout(()=>{o(e,a,.1,"square",s)},240),setTimeout(()=>{o(e,.85*a,.1,"square",s)},360)})(t,a,s);break;case"pet_safety":((e,t,a=1100)=>{let s=.45*t;o(e,a,.12,"square",s),setTimeout(()=>{o(e,.9*a,.12,"square",s)},150),setTimeout(()=>{o(e,a,.12,"square",s)},300)})(t,a,s);break;case"hot_surface":((e,t,a=700)=>{o(e,a,.3,"sawtooth",.35*t)})(t,a,s);break;case"knife_technique":((e,t,a=440)=>{let s=.2*t;o(e,a,.12,"sine",s),setTimeout(()=>{o(e,1.5*a,.15,"sine",.7*s)},80)})(t,a,s);break;case"cross_contamination":((e,t,a=550)=>{let s=.4*t;o(e,a,.2,"triangle",s),setTimeout(()=>{o(e,1.2*a,.2,"triangle",s)},200)})(t,a,s);break;case"away_alert":((e,t,a=600)=>{let s=.35*t;o(e,a,.2,"sine",s),setTimeout(()=>{o(e,1.25*a,.2,"sine",s)},250),setTimeout(()=>{o(e,a,.3,"sine",s)},500)})(t,a,s);break;case"attention_reminder":((e,t,a=500)=>{let s=.25*t;o(e,a,.15,"sine",s),setTimeout(()=>{o(e,1.5*a,.2,"sine",.8*s)},150)})(t,a,s)}},[]),z=(0,s.useCallback)(async e=>{if(!t||!y(e))return;let a=Date.now(),s=f(e);if(a-m.current[e]<s)return;m.current[e]=a;let o=h(e),i=n.includes(e);if(void 0!==r[e]&&r[e].length>0){let t=function(e){let t=r[e];if(!t||0===t.length)return null;let a=Math.floor(Math.random()*t.length);return t[a]}(e);if(t){if(i)return void await g(e,t,o);if(await l(t,o))return}}try{let t=v();"suspended"===t.state&&t.resume();let a=b(e);q(e,t,o,a)}catch(e){console.error("Failed to play audio alert:",e)}},[t,v,y,f,h,b,q,g]),C=(0,s.useCallback)(e=>{if(t&&e.enabled)try{let t,s=v();"suspended"===s.state&&s.resume(),t=e.volume*a,o(s,e.frequency,.2,"triangle",.4*t)}catch(e){console.error("Failed to play custom alert:",e)}},[t,a,v]);return(0,s.useEffect)(()=>()=>{p.current.forEach(e=>{e.pause(),e.currentTime=0}),p.current.clear(),d.current&&d.current.close()},[]),{playAlert:z,playCustomAlert:C,stopAlert:k,stopAllAlerts:w,isAlertLooping:T,initAudioContext:v,isAlertEnabled:y,getEffectiveVolume:h,getCooldown:f}}}}]);